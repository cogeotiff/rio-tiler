
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="User friendly Rasterio plugin to read raster datasets.">
      
      
      
        <link rel="canonical" href="https://cogeotiff.github.io/rio-tiler/release-notes/">
      
      
        <link rel="prev" href="../contributing/">
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.22">
    
    
      
        <title>Release Notes - rio-tiler</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.84d31ad4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nunito+Sans:300,300i,400,400i,700,700i%7CFira+Code:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Nunito Sans";--md-code-font:"Fira Code"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="light-blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#unreleased" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="rio-tiler" class="md-header__button md-logo" aria-label="rio-tiler" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            rio-tiler
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Release Notes
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/cogeotiff/rio-tiler" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    cogeotiff/rio-tiler
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="rio-tiler" class="md-nav__button md-logo" aria-label="rio-tiler" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>

    </a>
    rio-tiler
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/cogeotiff/rio-tiler" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    cogeotiff/rio-tiler
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    User Guide
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            User Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../readers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Readers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Models
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mosaic/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Mosaic
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../colormap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Colormaps
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../supported_format/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Supported file formats
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../experimental/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Experimental
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Advanced Topics
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Advanced Topics
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../advanced/custom_readers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Base classes and custom readers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../advanced/feature/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Read Polygon-shaped regions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../advanced/statistics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Statistics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../advanced/dynamic_tiler/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Create a Dynamic Tiler
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../advanced/tms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    TileMatrixSet
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Examples
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/Using-rio-tiler/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction to rio-tiler
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/Using-rio-tiler-mosaic/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    rio-tiler.mosaic
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/Using-tms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction to TileMatrixSets
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/Using-rio-tiler-STACReader/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction to rio-tiler + STAC
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/Using-nonEarth-dataset/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Using Non Earth dataset
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/Using-rio-tiler-XarrayReader/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Xarray + rio-tiler
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/STAC_datacube_support/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Add support for STAC Datacube extension
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Migration Guides
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Migration Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../migrations/v2_migration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    v1.0 -> v2.0
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../migrations/v3_migration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    v2.0 -> v3.0
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../migrations/v4_migration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    v3.0 -> v4.0
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../migrations/v5_migration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    v4.0 -> v5.0
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../migrations/v7_migration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    v6.0 -> v7.0
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    API
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/rio_tiler/colormap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    rio_tiler.colormap
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/rio_tiler/constants/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    rio_tiler.constants
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/rio_tiler/errors/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    rio_tiler.errors
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/rio_tiler/expression/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    rio_tiler.expression
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/rio_tiler/models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    rio_tiler.models
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_6" >
        
          
          <label class="md-nav__link" for="__nav_6_6" id="__nav_6_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    rio_tiler.io
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_6">
            <span class="md-nav__icon md-icon"></span>
            rio_tiler.io
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/rio_tiler/io/base/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    rio_tiler.io.base
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/rio_tiler/io/rasterio/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    rio_tiler.io.rasterio
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/rio_tiler/io/stac/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    rio_tiler.io.stac
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/rio_tiler/io/xarray/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    rio_tiler.io.xarray
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_7" >
        
          
          <label class="md-nav__link" for="__nav_6_7" id="__nav_6_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    rio_tiler.mosaic
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_7">
            <span class="md-nav__icon md-icon"></span>
            rio_tiler.mosaic
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/rio_tiler/mosaic/reader/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    rio_tiler.mosaic.reader
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_7_2" >
        
          
          <label class="md-nav__link" for="__nav_6_7_2" id="__nav_6_7_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    rio_tiler.mosaic.methods
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_7_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_7_2">
            <span class="md-nav__icon md-icon"></span>
            rio_tiler.mosaic.methods
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/rio_tiler/mosaic/methods/base/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    rio_tiler.mosaic.methods.base
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/rio_tiler/mosaic/methods/defaults/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    rio_tiler.mosaic.methods.defaults
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/rio_tiler/profiles/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    rio_tiler.profiles
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/rio_tiler/reader/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    rio_tiler.reader
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/rio_tiler/tasks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    rio_tiler.tasks
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/rio_tiler/utils/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    rio_tiler.utils
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../advanced/benchmark.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Benchmarking
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../contributing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Development - Contributing
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Release Notes
    
  </span>
  

      </a>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                



                  


  
  


<h1 id="unreleased">Unreleased<a class="headerlink" href="#unreleased" title="Permanent link">&para;</a></h1>
<h1 id="800">8.0.0<a class="headerlink" href="#800" title="Permanent link">&para;</a></h1>
<ul>
<li>
<p>remove python 3.9 and 3.10 support <strong>breaking change</strong></p>
</li>
<li>
<p>add <strong>band_descriptions</strong> in ImageData and PointData objects</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="k">with</span> <span class="n">Reader</span><span class="p">(</span><span class="s2">&quot;tests/fixtures/cog_tags.tif&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">src</span><span class="p">:</span>
    <span class="n">info</span> <span class="o">=</span> <span class="n">src</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
    <span class="n">img</span> <span class="o">=</span> <span class="n">src</span><span class="o">.</span><span class="n">preview</span><span class="p">()</span>

    <span class="nb">print</span><span class="p">(</span><span class="n">info</span><span class="o">.</span><span class="n">band_descriptions</span><span class="p">)</span>
    <span class="o">&gt;&gt;</span> <span class="p">[(</span><span class="s1">&#39;b1&#39;</span><span class="p">,</span> <span class="s1">&#39;Green&#39;</span><span class="p">)]</span>

    <span class="nb">print</span><span class="p">(</span><span class="n">img</span><span class="o">.</span><span class="n">band_names</span><span class="p">)</span>
    <span class="o">&gt;&gt;</span> <span class="p">[</span><span class="s1">&#39;b1&#39;</span><span class="p">]</span>

    <span class="nb">print</span><span class="p">(</span><span class="n">img</span><span class="o">.</span><span class="n">band_descriptions</span><span class="p">)</span>
    <span class="o">&gt;&gt;</span> <span class="p">[(</span><span class="s1">&#39;b1&#39;</span><span class="p">,</span> <span class="s1">&#39;Green&#39;</span><span class="p">)]</span>
</code></pre></div>
<ul>
<li>use <code>b{idx}</code> as band names in <code>XarrayReader</code> result (instead of band descriptions) <strong>breaking change</strong></li>
</ul>
<div class="highlight"><pre><span></span><code>    <span class="n">arr</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mi">33</span> <span class="o">*</span> <span class="mi">35</span> <span class="o">*</span> <span class="mi">2</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s2">&quot;float32&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">33</span><span class="p">,</span> <span class="mi">35</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">xarray</span><span class="o">.</span><span class="n">DataArray</span><span class="p">(</span>
        <span class="n">arr</span><span class="p">,</span>
        <span class="n">dims</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;time&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="s2">&quot;x&quot;</span><span class="p">),</span>
        <span class="n">coords</span><span class="o">=</span><span class="p">{</span>
            <span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="n">numpy</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="mi">170</span><span class="p">,</span> <span class="mi">180</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>
            <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="n">numpy</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="mi">80</span><span class="p">,</span> <span class="mi">85</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span>
            <span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2022</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2022</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)],</span>
        <span class="p">},</span>
    <span class="p">)</span>
    <span class="n">data</span><span class="o">.</span><span class="n">attrs</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s2">&quot;valid_min&quot;</span><span class="p">:</span> <span class="n">arr</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="s2">&quot;valid_max&quot;</span><span class="p">:</span> <span class="n">arr</span><span class="o">.</span><span class="n">max</span><span class="p">()})</span>
    <span class="n">data</span><span class="o">.</span><span class="n">rio</span><span class="o">.</span><span class="n">write_crs</span><span class="p">(</span><span class="s2">&quot;epsg:4326&quot;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="c1"># Before</span>
    <span class="k">with</span> <span class="n">XarrayReader</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="k">as</span> <span class="n">dst</span><span class="p">:</span>
        <span class="k">assert</span> <span class="n">info</span><span class="o">.</span><span class="n">band_metadata</span> <span class="o">==</span> <span class="p">[(</span><span class="s2">&quot;b1&quot;</span><span class="p">,</span> <span class="p">{}),</span> <span class="p">(</span><span class="s2">&quot;b2&quot;</span><span class="p">,</span> <span class="p">{})]</span>
        <span class="k">assert</span> <span class="n">info</span><span class="o">.</span><span class="n">band_descriptions</span> <span class="o">==</span> <span class="p">[</span>
            <span class="p">(</span><span class="s2">&quot;b1&quot;</span><span class="p">,</span> <span class="s2">&quot;2022-01-01T00:00:00.000000000&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;b2&quot;</span><span class="p">,</span> <span class="s2">&quot;2022-01-02T00:00:00.000000000&quot;</span><span class="p">),</span>
        <span class="p">]</span>

        <span class="n">stats</span> <span class="o">=</span> <span class="n">dst</span><span class="o">.</span><span class="n">statistics</span><span class="p">()</span>
        <span class="k">assert</span> <span class="nb">list</span><span class="p">(</span><span class="n">stats</span><span class="p">)</span> <span class="o">==</span> <span class="p">[</span>
            <span class="s2">&quot;2022-01-01T00:00:00.000000000&quot;</span><span class="p">,</span>
            <span class="s2">&quot;2022-01-02T00:00:00.000000000&quot;</span><span class="p">,</span>
        <span class="p">]</span>

        <span class="n">img</span> <span class="o">=</span> <span class="n">dst</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">img</span><span class="o">.</span><span class="n">band_names</span> <span class="o">==</span> <span class="p">[</span>
            <span class="s2">&quot;2022-01-01T00:00:00.000000000&quot;</span><span class="p">,</span>
            <span class="s2">&quot;2022-01-02T00:00:00.000000000&quot;</span><span class="p">,</span>
        <span class="p">]</span>

    <span class="c1"># Now</span>
    <span class="k">with</span> <span class="n">XarrayReader</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="k">as</span> <span class="n">dst</span><span class="p">:</span>
        <span class="n">stats</span> <span class="o">=</span> <span class="n">dst</span><span class="o">.</span><span class="n">statistics</span><span class="p">()</span>
        <span class="k">assert</span> <span class="nb">list</span><span class="p">(</span><span class="n">stats</span><span class="p">)</span> <span class="o">==</span> <span class="p">[</span>
            <span class="s2">&quot;b1&quot;</span><span class="p">,</span>
            <span class="s2">&quot;b2&quot;</span><span class="p">,</span>
        <span class="p">]</span>

        <span class="n">img</span> <span class="o">=</span> <span class="n">dst</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">img</span><span class="o">.</span><span class="n">band_names</span> <span class="o">==</span> <span class="p">[</span>
            <span class="s2">&quot;b1&quot;</span><span class="p">,</span>
            <span class="s2">&quot;b2&quot;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="k">assert</span> <span class="n">img</span><span class="o">.</span><span class="n">band_descriptions</span> <span class="o">==</span> <span class="p">[</span>
            <span class="s2">&quot;2022-01-01T00:00:00.000000000&quot;</span><span class="p">,</span>
            <span class="s2">&quot;2022-01-02T00:00:00.000000000&quot;</span><span class="p">,</span>
        <span class="p">]</span>
</code></pre></div>
<ul>
<li>
<p>rename <code>XarrayReader.band_names</code> -&gt; <code>XarrayReader.band_descriptions</code>  <strong>breaking change</strong></p>
</li>
<li>
<p>only cast data to <code>uint8</code> if colormap values are of type <code>uint8</code></p>
</li>
<li>
<p>add <code>alpha_mask</code> attribute to <code>ImageData</code> class</p>
</li>
<li>
<p>allow partial alpha values from alpha band</p>
</li>
<li>
<p>better handle non-uint8 alpha band</p>
</li>
<li>
<p>remove deprecated <code>force_binary_mask</code> option in <code>reader.read</code> function  <strong>breaking change</strong></p>
</li>
<li>
<p>add <code>nodata</code>, <code>scales</code> and <code>offsets</code> attributes to <code>ImageData</code> and <code>PointData</code> classes</p>
</li>
<li>
<p>add <code>rio_tiler.experimental.zarr.ZarrReader</code> Zarr Dataset experimental reader</p>
</li>
<li>
<p>refactor <code>XarrayReader.part</code> method to better handle reprojection and re-usability</p>
</li>
<li>move <code>_get_width_height</code> and <code>_missing_size</code> from <code>rio_tiler.reader</code> to <code>rio_tiler.utils</code></li>
<li>add upper memory limit for Xarray dataset. Controled with <code>RIO_TILER_MAX_ARRAY_SIZE</code> env variable.</li>
</ul>
<h1 id="792-2025-10-09">7.9.2 (2025-10-09)<a class="headerlink" href="#792-2025-10-09" title="Permanent link">&para;</a></h1>
<ul>
<li>fix: bad code logic in XarrayReader</li>
</ul>
<h1 id="791-2025-10-09">7.9.1 (2025-10-09)<a class="headerlink" href="#791-2025-10-09" title="Permanent link">&para;</a></h1>
<ul>
<li>fix: better handler inverted (SouthUp) dataset in XarrayReader</li>
</ul>
<h1 id="790-2025-10-07">7.9.0 (2025-10-07)<a class="headerlink" href="#790-2025-10-07" title="Permanent link">&para;</a></h1>
<ul>
<li>refactor XarrayReader.part method to better handle reprojection and re-usability (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/828" title="GitHub Pull Request: cogeotiff/rio-tiler #828">cogeotiff/rio-tiler!828</a>) <strong>Backported</strong></li>
<li>move <code>_get_width_height</code> and <code>_missing_size</code> from <code>rio_tiler.reader</code> to <code>rio_tiler.utils</code> <strong>Backported</strong></li>
</ul>
<h1 id="781-2025-06-16">7.8.1 (2025-06-16)<a class="headerlink" href="#781-2025-06-16" title="Permanent link">&para;</a></h1>
<ul>
<li>apply scale/offset to dataset statistics in ImageData object (used for automatic rescaling)</li>
</ul>
<h1 id="780-2025-06-03">7.8.0 (2025-06-03)<a class="headerlink" href="#780-2025-06-03" title="Permanent link">&para;</a></h1>
<ul>
<li>add <code>to_raster()</code> method to <code>ImageData</code> class</li>
</ul>
<h1 id="774-2025-05-29">7.7.4 (2025-05-29)<a class="headerlink" href="#774-2025-05-29" title="Permanent link">&para;</a></h1>
<ul>
<li>fix band names for Xarray DataArray</li>
</ul>
<h1 id="773post1-2025-05-22">7.7.3.post1 (2025-05-22)<a class="headerlink" href="#773post1-2025-05-22" title="Permanent link">&para;</a></h1>
<ul>
<li>remove unwanted breaking change</li>
</ul>
<h1 id="773-2025-05-22-yanked">7.7.3 (2025-05-22) <strong>YANKED</strong><a class="headerlink" href="#773-2025-05-22-yanked" title="Permanent link">&para;</a></h1>
<ul>
<li>fix Boundless <code>part</code> read when using GCPs dataset</li>
</ul>
<h1 id="772-2025-05-15">7.7.2 (2025-05-15)<a class="headerlink" href="#772-2025-05-15" title="Permanent link">&para;</a></h1>
<ul>
<li>add <code>repr</code> method to Mosaic Method classes</li>
<li>
<p>add metadata (pixel selection method, assets count, asset used count) on Image/Point object returned by <code>mosaic_reader</code></p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">rio_tiler.io</span><span class="w"> </span><span class="kn">import</span> <span class="n">Reader</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">rio_tiler.mosaic</span><span class="w"> </span><span class="kn">import</span> <span class="n">mosaic_reader</span>

<span class="k">def</span><span class="w"> </span><span class="nf">tiler</span><span class="p">(</span><span class="n">src_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">with</span> <span class="n">Reader</span><span class="p">(</span><span class="n">src_path</span><span class="p">)</span> <span class="k">as</span> <span class="n">src</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">src</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<span class="n">mosaic_assets</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;tests/fixtures/mosaic_value_1.tif&quot;</span><span class="p">,</span> <span class="s2">&quot;tests/fixtures/mosaic_value_1.tif&quot;</span><span class="p">,</span> <span class="s2">&quot;tests/fixtures/mosaic_value_2.tif&quot;</span><span class="p">]</span>
<span class="n">x</span> <span class="o">=</span> <span class="mi">150</span>
<span class="n">y</span> <span class="o">=</span> <span class="mi">182</span>
<span class="n">z</span> <span class="o">=</span> <span class="mi">9</span>

<span class="c1"># Use Default First value method</span>
<span class="n">img</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">mosaic_reader</span><span class="p">(</span><span class="n">mosaic_assets</span><span class="p">,</span> <span class="n">tiler</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">img</span><span class="o">.</span><span class="n">metadata</span><span class="p">)</span>
<span class="o">&gt;&gt;</span> <span class="p">{</span><span class="s1">&#39;mosaic_method&#39;</span><span class="p">:</span> <span class="s1">&#39;FirstMethod&#39;</span><span class="p">,</span> <span class="s1">&#39;mosaic_assets_count&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;mosaic_assets_used&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
</code></pre></div>
</li>
</ul>
<h1 id="771-2025-05-13">7.7.1 (2025-05-13)<a class="headerlink" href="#771-2025-05-13" title="Permanent link">&para;</a></h1>
<ul>
<li>add <code>max</code>, <code>min</code>, <code>med</code>, <code>q1</code> and <code>q3</code> resampling methods to <code>WarpResampling</code> literal</li>
</ul>
<h1 id="770-2025-05-05">7.7.0 (2025-05-05)<a class="headerlink" href="#770-2025-05-05" title="Permanent link">&para;</a></h1>
<ul>
<li>fix size estimation when using <code>window</code> an <code>reader.read</code> method</li>
<li>add <code>width</code> or <code>height</code> estimation when passing only one size</li>
</ul>
<h1 id="761-2025-04-22">7.6.1 (2025-04-22)<a class="headerlink" href="#761-2025-04-22" title="Permanent link">&para;</a></h1>
<ul>
<li>fix Xarray indexes check when passing a list</li>
</ul>
<h1 id="760-2025-03-31">7.6.0 (2025-03-31)<a class="headerlink" href="#760-2025-03-31" title="Permanent link">&para;</a></h1>
<ul>
<li>
<p>add <code>interpolate=True/False</code> to <code>.point()</code> methods to allow interpolation of surrounding pixels</p>
<div class="highlight"><pre><span></span><code><span class="k">with</span> <span class="n">Reader</span><span class="p">(</span><span class="s2">&quot;tests/fixtures/cog.tif&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">src</span><span class="p">:</span>
    <span class="n">pt</span> <span class="o">=</span> <span class="n">src</span><span class="o">.</span><span class="n">point</span><span class="p">(</span><span class="o">-</span><span class="mf">57.566</span><span class="p">,</span> <span class="mf">73.68856</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">pt</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="o">&gt;&gt;</span> <span class="mi">2800</span>

    <span class="n">pt</span> <span class="o">=</span> <span class="n">src</span><span class="o">.</span><span class="n">point</span><span class="p">(</span><span class="o">-</span><span class="mf">57.566</span><span class="p">,</span> <span class="mf">73.68856</span><span class="p">,</span> <span class="n">interpolate</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">resampling_method</span><span class="o">=</span><span class="s2">&quot;bilinear&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">pt</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="o">&gt;&gt;</span> <span class="mi">2819</span>
</code></pre></div>
</li>
<li>
<p>add <code>pixel_location</code> property to <code>PointData</code> model</p>
<div class="highlight"><pre><span></span><code><span class="k">with</span> <span class="n">Reader</span><span class="p">(</span><span class="s2">&quot;tests/fixtures/cog.tif&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">src</span><span class="p">:</span>
    <span class="n">pt</span> <span class="o">=</span> <span class="n">src</span><span class="o">.</span><span class="n">point</span><span class="p">(</span><span class="o">-</span><span class="mf">57.566</span><span class="p">,</span> <span class="mf">73.68856</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">pt</span><span class="o">.</span><span class="n">pixel_location</span><span class="p">)</span>
    <span class="o">&gt;&gt;</span> <span class="p">(</span><span class="mi">1090</span><span class="p">,</span> <span class="mi">1086</span><span class="p">)</span>

<span class="k">with</span> <span class="n">Reader</span><span class="p">(</span><span class="s2">&quot;tests/fixtures/cog.tif&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">src</span><span class="p">:</span>
    <span class="n">pt</span> <span class="o">=</span> <span class="n">src</span><span class="o">.</span><span class="n">point</span><span class="p">(</span><span class="o">-</span><span class="mf">57.566</span><span class="p">,</span> <span class="mf">73.68856</span><span class="p">,</span> <span class="n">interpolate</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">pt</span><span class="o">.</span><span class="n">pixel_location</span><span class="p">)</span>
    <span class="o">&gt;&gt;</span> <span class="p">(</span><span class="mf">1090.5924744641266</span><span class="p">,</span> <span class="mf">1086.2541429827688</span><span class="p">)</span>
</code></pre></div>
</li>
<li>
<p>add <code>out_dtype</code> to reader's methods to allow user setting the output data type</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">rio_tiler.io</span><span class="w"> </span><span class="kn">import</span> <span class="n">Reader</span>

<span class="k">with</span> <span class="n">Reader</span><span class="p">(</span><span class="s2">&quot;tests/fixtures/cog.tif&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">src</span><span class="p">:</span>
    <span class="n">img</span> <span class="o">=</span> <span class="n">src</span><span class="o">.</span><span class="n">preview</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">img</span><span class="o">.</span><span class="n">array</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span>
    <span class="o">&gt;&gt;</span> <span class="n">uint16</span>

    <span class="n">img</span> <span class="o">=</span> <span class="n">src</span><span class="o">.</span><span class="n">preview</span><span class="p">(</span><span class="n">out_dtype</span><span class="o">=</span><span class="s2">&quot;float32&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">img</span><span class="o">.</span><span class="n">array</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span>
    <span class="o">&gt;&gt;</span> <span class="n">float32</span>
</code></pre></div>
</li>
<li>
<p>update pystac dependency to <code>&gt;=1.9,&lt;2.0</code></p>
</li>
</ul>
<h1 id="751-2025-03-19">7.5.1 (2025-03-19)<a class="headerlink" href="#751-2025-03-19" title="Permanent link">&para;</a></h1>
<ul>
<li>fix <code>utils.get_array_statistics</code> method to avoid <code>ZeroDivisionError</code> when there is no valid pixel</li>
<li>use <code>GDAL_MEM_ENABLE_OPEN=TRUE</code> when opening a numpy array with rasterio</li>
</ul>
<h1 id="750-2025-02-26">7.5.0 (2025-02-26)<a class="headerlink" href="#750-2025-02-26" title="Permanent link">&para;</a></h1>
<ul>
<li>add <code>rio_tiler.experimental</code> submodule</li>
<li>add <code>rio_tiler.experimental.vsifile.VSIReader</code> VSIFile based experimental reader</li>
</ul>
<h1 id="740-2025-01-28">7.4.0 (2025-01-28)<a class="headerlink" href="#740-2025-01-28" title="Permanent link">&para;</a></h1>
<ul>
<li>
<p>update rasterio dependency to <code>&gt;=1.4.0</code></p>
</li>
<li>
<p>add <code>reproject</code> method for <code>ImageData</code> objects (author @emmanuelmathot, <a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/782" title="GitHub Pull Request: cogeotiff/rio-tiler #782">cogeotiff/rio-tiler!782</a>)</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">rio_tiler.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">ImageData</span>

<span class="n">img</span> <span class="o">=</span> <span class="n">ImageData</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">256</span><span class="p">,</span> <span class="mi">256</span><span class="p">),</span> <span class="n">crs</span><span class="o">=</span><span class="n">CRS</span><span class="o">.</span><span class="n">from_epsg</span><span class="p">(</span><span class="mi">4326</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="s2">&quot;uint8&quot;</span><span class="p">))</span>
<span class="n">img_3857</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">reproject</span><span class="p">(</span><span class="s2">&quot;epsg:3857&quot;</span><span class="p">)</span>
</code></pre></div>
</li>
<li>
<p>add <code>indexes</code> parameter for <code>XarrayReader</code> methods. As for Rasterio, the indexes values start at <code>1</code>.</p>
<div class="highlight"><pre><span></span><code><span class="n">data</span> <span class="o">=</span> <span class="o">...</span> <span class="c1"># DataArray of shape (2, x, y)</span>

<span class="c1"># before</span>
<span class="k">with</span> <span class="n">XarrayReader</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="k">as</span> <span class="n">dst</span><span class="p">:</span>
    <span class="n">img</span> <span class="o">=</span> <span class="n">dst</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">img</span><span class="o">.</span><span class="n">count</span> <span class="o">==</span> <span class="mi">2</span>

<span class="c1"># now</span>
<span class="k">with</span> <span class="n">XarrayReader</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="k">as</span> <span class="n">dst</span><span class="p">:</span>
    <span class="c1"># Select the first `band` within the data array</span>
    <span class="n">img</span> <span class="o">=</span> <span class="n">dst</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">indexes</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">img</span><span class="o">.</span><span class="n">count</span> <span class="o">==</span> <span class="mi">1</span>
</code></pre></div>
</li>
<li>
<p>better define <code>band names</code> for <code>XarrayReader</code> objects</p>
<ul>
<li>
<p>band_name for <code>2D</code> dataset is extracted form the first <code>non-geo</code> coordinates value</p>
<div class="highlight"><pre><span></span><code><span class="n">data</span> <span class="o">=</span> <span class="n">xarray</span><span class="o">.</span><span class="n">DataArray</span><span class="p">(</span>
    <span class="n">numpy</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mi">33</span> <span class="o">*</span> <span class="mi">35</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">33</span><span class="p">,</span> <span class="mi">35</span><span class="p">),</span>
    <span class="n">dims</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;time&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="s2">&quot;x&quot;</span><span class="p">),</span>
    <span class="n">coords</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="n">numpy</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="mi">170</span><span class="p">,</span> <span class="mi">180</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>
        <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="n">numpy</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="mi">80</span><span class="p">,</span> <span class="mi">85</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span>
        <span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2022</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2022</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)],</span>
    <span class="p">},</span>
<span class="p">)</span>
<span class="n">da</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="n">da</span><span class="o">.</span><span class="n">coords</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
<span class="o">&gt;&gt;</span> <span class="n">array</span><span class="p">(</span><span class="s1">&#39;2022-01-01T00:00:00.000000000&#39;</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;datetime64[ns]&#39;</span><span class="p">))</span>

<span class="c1"># before</span>
<span class="k">with</span> <span class="n">XarrayReader</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="k">as</span> <span class="n">dst</span><span class="p">:</span>
    <span class="n">img</span> <span class="o">=</span> <span class="n">dst</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">img</span><span class="o">.</span><span class="n">band_descriptions</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="o">&gt;&gt;</span> <span class="p">(</span><span class="s2">&quot;b1&quot;</span><span class="p">,</span> <span class="s2">&quot;value&quot;</span><span class="p">)</span>

<span class="c1"># now</span>
<span class="k">with</span> <span class="n">XarrayReader</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="k">as</span> <span class="n">dst</span><span class="p">:</span>
    <span class="n">img</span> <span class="o">=</span> <span class="n">dst</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">img</span><span class="o">.</span><span class="n">band_descriptions</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="o">&gt;&gt;</span> <span class="p">(</span><span class="s2">&quot;b1&quot;</span><span class="p">,</span> <span class="s2">&quot;2022-01-01T00:00:00.000000000&quot;</span><span class="p">)</span>
</code></pre></div>
</li>
<li>
<p>default <code>band_names</code> is changed to DataArray's name or <code>array</code> (when no available coordinates value)</p>
<div class="highlight"><pre><span></span><code><span class="n">data</span> <span class="o">=</span> <span class="o">...</span> <span class="c1"># DataArray of shape (x, y)</span>

<span class="c1"># before</span>
<span class="k">with</span> <span class="n">XarrayReader</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="k">as</span> <span class="n">dst</span><span class="p">:</span>
    <span class="n">img</span> <span class="o">=</span> <span class="n">dst</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">img</span><span class="o">.</span><span class="n">band_descriptions</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="o">&gt;&gt;</span> <span class="p">(</span><span class="s2">&quot;b1&quot;</span><span class="p">,</span> <span class="s2">&quot;value&quot;</span><span class="p">)</span>

<span class="c1"># now</span>
<span class="k">with</span> <span class="n">XarrayReader</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="k">as</span> <span class="n">dst</span><span class="p">:</span>
    <span class="n">img</span> <span class="o">=</span> <span class="n">dst</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">img</span><span class="o">.</span><span class="n">band_descriptions</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="o">&gt;&gt;</span> <span class="p">(</span><span class="s2">&quot;b1&quot;</span><span class="p">,</span> <span class="s2">&quot;array&quot;</span><span class="p">)</span>
</code></pre></div>
</li>
</ul>
</li>
</ul>
<h1 id="731-2025-01-23">7.3.1 (2025-01-23)<a class="headerlink" href="#731-2025-01-23" title="Permanent link">&para;</a></h1>
<ul>
<li>make sure <code>STACReader.transform</code> is an Affine object</li>
</ul>
<h1 id="730-2025-01-07">7.3.0 (2025-01-07)<a class="headerlink" href="#730-2025-01-07" title="Permanent link">&para;</a></h1>
<ul>
<li>drop python 3.8 support</li>
<li>add python 3.13 support</li>
<li>fix: use coverage array for calculation of valid_percent (author @MarcelCode, <a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/775" title="GitHub Pull Request: cogeotiff/rio-tiler #775">cogeotiff/rio-tiler!775</a>)</li>
</ul>
<h1 id="722-2024-11-18">7.2.2 (2024-11-18)<a class="headerlink" href="#722-2024-11-18" title="Permanent link">&para;</a></h1>
<ul>
<li>Catch and expand error message when GDAL cannot encode data using specified image driver (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/767" title="GitHub Pull Request: cogeotiff/rio-tiler #767">cogeotiff/rio-tiler!767</a>)</li>
</ul>
<h1 id="721-2024-11-14">7.2.1 (2024-11-14)<a class="headerlink" href="#721-2024-11-14" title="Permanent link">&para;</a></h1>
<ul>
<li>add official support for floating point values in ColorMap</li>
<li>cast data to <code>uint8</code> datatype when applying linear colormap</li>
</ul>
<h1 id="720-2024-11-05">7.2.0 (2024-11-05)<a class="headerlink" href="#720-2024-11-05" title="Permanent link">&para;</a></h1>
<ul>
<li>
<p>Ensure compatibility between XarrayReader and other Readers by adding <code>**kwargs</code> on class methods (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/762" title="GitHub Pull Request: cogeotiff/rio-tiler #762">cogeotiff/rio-tiler!762</a>)</p>
</li>
<li>
<p>add <code>STACReader.get_asset_list()</code> method to enable easier customization of the asset listing/validation (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/762" title="GitHub Pull Request: cogeotiff/rio-tiler #762">cogeotiff/rio-tiler!762</a>)</p>
</li>
</ul>
<h1 id="710-2024-10-29">7.1.0 (2024-10-29)<a class="headerlink" href="#710-2024-10-29" title="Permanent link">&para;</a></h1>
<ul>
<li>
<p>Add <code>preview()</code> and <code>statistics()</code> methods to XarrayReader (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/755" title="GitHub Pull Request: cogeotiff/rio-tiler #755">cogeotiff/rio-tiler!755</a>)</p>
</li>
<li>
<p>Add output size (<code>max_size</code> | <code>width</code>, <code>height</code>) options for XarrayReader's <code>preview()</code>, <code>part()</code> and <code>feature()</code> methods (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/755" title="GitHub Pull Request: cogeotiff/rio-tiler #755">cogeotiff/rio-tiler!755</a>)</p>
</li>
<li>
<p>Add half X/Y resolution on bounds before checking the geographic bounds in XarrayReader (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/755" title="GitHub Pull Request: cogeotiff/rio-tiler #755">cogeotiff/rio-tiler!755</a>)</p>
</li>
<li>
<p>Check if the Y bounds are inverted and flip the image on the Y axis in XarrayReader (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/756" title="GitHub Pull Request: cogeotiff/rio-tiler #756">cogeotiff/rio-tiler!756</a>)</p>
</li>
<li>
<p>Add support for 2D arrays in XarrayReader (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/755" title="GitHub Pull Request: cogeotiff/rio-tiler #755">cogeotiff/rio-tiler!755</a>)</p>
</li>
<li>
<p>Cast Xarray <code>attrs</code> values in XarrayReader's <code>info()</code> response to avoid JSON encoding issues (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/755" title="GitHub Pull Request: cogeotiff/rio-tiler #755">cogeotiff/rio-tiler!755</a>)</p>
</li>
<li>
<p>Refactor XarrayReader's <code>feature()</code> method to use the <code>part</code> method (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/755" title="GitHub Pull Request: cogeotiff/rio-tiler #755">cogeotiff/rio-tiler!755</a>)</p>
</li>
<li>
<p>Allow <code>op</code> parameter for <code>create_cutline</code> and <code>_convert_to_raster_space</code> functions to better control rasterio's <code>rowcol</code> behaviour (author @Martenz, <a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/759" title="GitHub Pull Request: cogeotiff/rio-tiler #759">cogeotiff/rio-tiler!759</a>)</p>
</li>
</ul>
<h1 id="701-2024-10-22">7.0.1 (2024-10-22)<a class="headerlink" href="#701-2024-10-22" title="Permanent link">&para;</a></h1>
<ul>
<li>Add <code>CRS_to_urn</code> method and update internals for <code>CRS_to_uri</code> (author @AndrewAnnex, <a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/752" title="GitHub Pull Request: cogeotiff/rio-tiler #752">cogeotiff/rio-tiler!752</a>)</li>
</ul>
<h1 id="700-2024-10-21">7.0.0 (2024-10-21)<a class="headerlink" href="#700-2024-10-21" title="Permanent link">&para;</a></h1>
<ul>
<li>
<p>Enable dynamic definition of Asset <strong>reader</strong> in <code>MultiBaseReader</code> (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/711/" title="GitHub Pull Request: cogeotiff/rio-tiler #711">cogeotiff/rio-tiler!711</a>, <a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/728" title="GitHub Pull Request: cogeotiff/rio-tiler #728">cogeotiff/rio-tiler!728</a>)</p>
</li>
<li>
<p>Adding <code>default_assets</code> for MultiBaseReader and STACReader (author @mccarthyryanc, <a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/722" title="GitHub Pull Request: cogeotiff/rio-tiler #722">cogeotiff/rio-tiler!722</a>)</p>
</li>
<li>
<p>Adding <code>default_bands</code> for MultiBandReader (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/722" title="GitHub Pull Request: cogeotiff/rio-tiler #722">cogeotiff/rio-tiler!722</a>)</p>
</li>
<li>
<p>Adding support for the STAC <code>Projection</code> extension to derive the <code>bounds</code>, <code>crs</code>, <code>minzoom</code> and <code>maxzoom</code> properties  <strong>breaking change</strong></p>
</li>
<li>
<p>Refactor internal function and base classes for the <code>minzoom/maxzoom</code> calculation <strong>breaking change</strong></p>
</li>
<li>
<p>Adding <code>transform</code>, <code>height</code> and <code>width</code> attributes (outside init) for <code>SpatialMixin</code> class</p>
</li>
<li>
<p>Moved <code>_dst_geom_in_tms_crs</code> from Reader to <code>SpatialMixin</code> class <strong>breaking change</strong></p>
</li>
<li>
<p>Removed use of rasterio's <code>is_tiled</code> method</p>
</li>
<li>
<p>Enable <strong>Alternate</strong> asset's HREF for STAC by using <code>RIO_TILER_STAC_ALTERNATE_KEY</code> environment variable</p>
</li>
<li>
<p>Adding support for GDAL VRT Connection string for STAC Assets</p>
</li>
<li>
<p>Improve type hint definition</p>
</li>
<li>
<p>make <code>ImageData.rescale</code> and <code>ImageData.apply_color_formula</code> to return <code>self</code></p>
</li>
<li>
<p>add support for <code>.json</code> colormap files</p>
</li>
<li>
<p>do no <code>lowercase</code> colormap name in <code>ColorMaps.get</code> method <strong>breaking change</strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">rio_tiler.colormap</span><span class="w"> </span><span class="kn">import</span> <span class="n">cmap</span>

<span class="c1"># before</span>
<span class="k">assert</span> <span class="n">cmap</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;Viridis&quot;</span><span class="p">)</span>

<span class="c1"># now</span>
<span class="k">assert</span> <span class="n">cmap</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;Viridis&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;</span> <span class="n">InvalidColorMapName</span><span class="p">:</span> <span class="n">Invalid</span> <span class="n">colormap</span> <span class="n">name</span><span class="p">:</span> <span class="n">Viridis</span>
</code></pre></div>
</li>
<li>
<p>removed <code>geographic_crs</code> attribute in <code>SpatialMixin</code> class <strong>breaking change</strong></p>
</li>
<li>
<p>removed <code>geographic_bounds</code> property in <code>SpatialMixin</code> class <strong>breaking change</strong></p>
</li>
<li>
<p>add <code>get_geographic_bounds(crs: CRS)</code> method in <code>SpatialMixin</code> class</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">rasterio.crs</span><span class="w"> </span><span class="kn">import</span> <span class="n">CRS</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">rio_tiler.io</span><span class="w"> </span><span class="kn">import</span> <span class="n">Reader</span>

<span class="c1"># before</span>
<span class="k">with</span> <span class="n">Reader</span><span class="p">(</span><span class="s2">&quot;cog.tif&quot;</span><span class="p">,</span> <span class="n">geographic_crs</span><span class="o">=</span><span class="n">CRS</span><span class="o">.</span><span class="n">from_epsg</span><span class="p">(</span><span class="mi">4326</span><span class="p">))</span> <span class="k">as</span> <span class="n">src</span><span class="p">:</span>
    <span class="n">bounds</span> <span class="o">=</span> <span class="n">src</span><span class="o">.</span><span class="n">geographic_bounds</span>

<span class="c1"># now</span>
<span class="k">with</span> <span class="n">Reader</span><span class="p">(</span><span class="s2">&quot;cog.tif&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">src</span><span class="p">:</span>
    <span class="n">bounds</span> <span class="o">=</span> <span class="n">src</span><span class="o">.</span><span class="n">get_geographic_bounds</span><span class="p">(</span><span class="n">CRS</span><span class="o">.</span><span class="n">from_epsg</span><span class="p">(</span><span class="mi">4326</span><span class="p">))</span>
</code></pre></div>
</li>
<li>
<p>replace <code>geographic bounds</code> with dataset bounds in <code>Reader.info()</code> method's response <strong>breaking change</strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">rio_tiler.io</span><span class="w"> </span><span class="kn">import</span> <span class="n">Reader</span>

<span class="c1"># before</span>
<span class="k">with</span> <span class="n">Reader</span><span class="p">(</span><span class="s2">&quot;cog.tif&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">src</span><span class="p">:</span>
    <span class="k">assert</span> <span class="n">src</span><span class="o">.</span><span class="n">geographic_bounds</span> <span class="o">==</span> <span class="n">src</span><span class="o">.</span><span class="n">info</span><span class="p">()</span><span class="o">.</span><span class="n">bounds</span>

<span class="c1"># now</span>
<span class="k">with</span> <span class="n">Reader</span><span class="p">(</span><span class="s2">&quot;cog.tif&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">src</span><span class="p">:</span>
    <span class="k">assert</span> <span class="n">src</span><span class="o">.</span><span class="n">bounds</span> <span class="o">==</span> <span class="n">src</span><span class="o">.</span><span class="n">info</span><span class="p">()</span><span class="o">.</span><span class="n">bounds</span>
</code></pre></div>
</li>
<li>
<p>add <code>crs: str</code> property in <code>Info</code> model</p>
</li>
<li>
<p>remove <code>minzoom</code> and <code>maxzoom</code> properties in <code>Info</code> model <strong>breaking change</strong></p>
</li>
<li>
<p>update <code>morecantile</code> dependency to allow <code>6.x</code> version</p>
</li>
<li>
<p>remove deprecated method and attributes</p>
</li>
<li>
<p><code>round</code> xarray dataset's bounds to avoid precision errors when checking for valid geographic bounding box</p>
</li>
<li>
<p>fix <code>bounds</code> type information</p>
</li>
</ul>
<h1 id="680-2024-10-23">6.8.0 (2024-10-23)<a class="headerlink" href="#680-2024-10-23" title="Permanent link">&para;</a></h1>
<ul>
<li>
<p>Enable <strong>Alternate</strong> asset's HREF for STAC by using <code>RIO_TILER_STAC_ALTERNATE_KEY</code> environment variable [Backported from <code>7.0</code>]</p>
</li>
<li>
<p>Adding support for GDAL VRT Connection string for STAC Assets [Backported from <code>7.0</code>]</p>
</li>
</ul>
<h1 id="670-2024-09-05">6.7.0 (2024-09-05)<a class="headerlink" href="#670-2024-09-05" title="Permanent link">&para;</a></h1>
<ul>
<li>raise <code>MissingCRS</code> or <code>InvalidGeographicBounds</code> errors when Xarray datasets have wrong geographic metadata</li>
<li>better error message for <code>TileOutsideBounds</code> errors (author @abarciauskas-bgse, <a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/712" title="GitHub Pull Request: cogeotiff/rio-tiler #712">cogeotiff/rio-tiler!712</a>)</li>
<li>handle of inverted latitude in <code>reader.point</code> (author @georgespill, <a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/716" title="GitHub Pull Request: cogeotiff/rio-tiler #716">cogeotiff/rio-tiler!716</a>)</li>
</ul>
<h1 id="661-2024-05-17">6.6.1 (2024-05-17)<a class="headerlink" href="#661-2024-05-17" title="Permanent link">&para;</a></h1>
<ul>
<li>fix/support <code>scale/offset</code> indexes selection (author @jddeal, <a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/709" title="GitHub Pull Request: cogeotiff/rio-tiler #709">cogeotiff/rio-tiler!709</a>)</li>
</ul>
<h1 id="660-2024-05-16">6.6.0 (2024-05-16)<a class="headerlink" href="#660-2024-05-16" title="Permanent link">&para;</a></h1>
<ul>
<li>fix type hint for <code>ImageData.band_names</code> (author @n8sty, <a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/704" title="GitHub Pull Request: cogeotiff/rio-tiler #704">cogeotiff/rio-tiler!704</a>)</li>
<li>enable <code>per-band</code> scale/offset rescaling (co-author @jddeal, <a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/707" title="GitHub Pull Request: cogeotiff/rio-tiler #707">cogeotiff/rio-tiler!707</a>)</li>
<li>
<p>replace <code>scale</code> and <code>offset</code> by <code>scales</code> and <code>offsets</code> in <code>rio_tiler.models.Info</code> model</p>
<div class="highlight"><pre><span></span><code><span class="c1"># before</span>
<span class="k">with</span> <span class="n">Reader</span><span class="p">(</span><span class="s2">&quot;tests/fixtures/cog_scale.tif&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">src</span><span class="p">:</span>
    <span class="n">info</span> <span class="o">=</span> <span class="n">src</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">info</span><span class="o">.</span><span class="n">scale</span><span class="p">,</span> <span class="n">info</span><span class="o">.</span><span class="n">offset</span><span class="p">)</span>
<span class="o">&gt;&gt;</span> <span class="mf">0.0001</span> <span class="mf">1000.0</span>

<span class="c1"># now</span>
<span class="k">with</span> <span class="n">Reader</span><span class="p">(</span><span class="s2">&quot;tests/fixtures/cog_scale.tif&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">src</span><span class="p">:</span>
    <span class="n">info</span> <span class="o">=</span> <span class="n">src</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">info</span><span class="o">.</span><span class="n">scales</span><span class="p">,</span> <span class="n">info</span><span class="o">.</span><span class="n">offsets</span><span class="p">)</span>
<span class="o">&gt;&gt;</span> <span class="p">[</span><span class="mf">0.0001</span><span class="p">,</span> <span class="mf">0.001</span><span class="p">]</span> <span class="p">[</span><span class="mf">1000.0</span><span class="p">,</span> <span class="mf">2000.0</span><span class="p">]</span>
</code></pre></div>
</li>
</ul>
<h1 id="650-2024-05-03">6.5.0 (2024-05-03)<a class="headerlink" href="#650-2024-05-03" title="Permanent link">&para;</a></h1>
<ul>
<li>Revert <a href="https://github.com/cogeotiff/rio-tiler/pull/648">#648</a> and refactor <code>get_vrt_transform</code> method to better handle over-zooming a dataset</li>
</ul>
<h1 id="647-2024-04-17">6.4.7 (2024-04-17)<a class="headerlink" href="#647-2024-04-17" title="Permanent link">&para;</a></h1>
<ul>
<li>Better handle dataset with inverted origin</li>
<li>make sure datatype is forwarded to the WarpedVRT</li>
</ul>
<h1 id="646-2024-04-09">6.4.6 (2024-04-09)<a class="headerlink" href="#646-2024-04-09" title="Permanent link">&para;</a></h1>
<ul>
<li>Ignore STAC statistics object when they contain invalid type (author @emmanuelmathot, <a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/695" title="GitHub Pull Request: cogeotiff/rio-tiler #695">cogeotiff/rio-tiler!695</a>)</li>
</ul>
<h1 id="645-2024-04-05">6.4.5 (2024-04-05)<a class="headerlink" href="#645-2024-04-05" title="Permanent link">&para;</a></h1>
<ul>
<li>add python 3.12 official support</li>
<li>change code formatter to <code>ruff-format</code></li>
</ul>
<h1 id="644-2024-04-02">6.4.4 (2024-04-02)<a class="headerlink" href="#644-2024-04-02" title="Permanent link">&para;</a></h1>
<ul>
<li>better handler <code>NaN</code> nodata values for masking (author @cerolinx, <a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/691" title="GitHub Pull Request: cogeotiff/rio-tiler #691">cogeotiff/rio-tiler!691</a>)</li>
</ul>
<h1 id="643-2024-03-22">6.4.3 (2024-03-22)<a class="headerlink" href="#643-2024-03-22" title="Permanent link">&para;</a></h1>
<ul>
<li>make sure <code>scale</code> and <code>offset</code> are set in <code>Info</code> even when <code>offset=0.</code> or <code>scale=1.0</code> (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/687" title="GitHub Pull Request: cogeotiff/rio-tiler #687">cogeotiff/rio-tiler!687</a>)</li>
</ul>
<h1 id="642-2024-03-22">6.4.2 (2024-03-22)<a class="headerlink" href="#642-2024-03-22" title="Permanent link">&para;</a></h1>
<ul>
<li>better account for coverage in statistics (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/684" title="GitHub Pull Request: cogeotiff/rio-tiler #684">cogeotiff/rio-tiler!684</a>)</li>
</ul>
<h1 id="641-2024-02-19">6.4.1 (2024-02-19)<a class="headerlink" href="#641-2024-02-19" title="Permanent link">&para;</a></h1>
<ul>
<li>add <code>CountMethod</code> mosaic method (author @mccarthyryanc, <a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/676" title="GitHub Pull Request: cogeotiff/rio-tiler #676">cogeotiff/rio-tiler!676</a>)</li>
</ul>
<h1 id="640-2024-01-24">6.4.0 (2024-01-24)<a class="headerlink" href="#640-2024-01-24" title="Permanent link">&para;</a></h1>
<ul>
<li>
<p>deprecate <code>resampling_method</code> in <code>rio_tiler.io.xarray.XarrayReader</code> method and add <code>reproject_method</code> (to match the <code>rio_tiler.io.Reader</code> options)</p>
<div class="highlight"><pre><span></span><code><span class="c1"># before</span>
<span class="k">with</span> <span class="n">XarrayReader</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="k">as</span> <span class="n">dst</span><span class="p">:</span>
    <span class="n">img</span> <span class="o">=</span> <span class="n">dst</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">resampling_method</span><span class="o">=</span><span class="s2">&quot;cubic&quot;</span><span class="p">)</span>

<span class="c1"># now</span>
<span class="k">with</span> <span class="n">XarrayReader</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="k">as</span> <span class="n">dst</span><span class="p">:</span>
    <span class="n">img_cubic</span> <span class="o">=</span> <span class="n">dst</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">reproject_method</span><span class="o">=</span><span class="s2">&quot;cubic&quot;</span><span class="p">)</span>
</code></pre></div>
</li>
</ul>
<h1 id="631-2024-01-22">6.3.1 (2024-01-22)<a class="headerlink" href="#631-2024-01-22" title="Permanent link">&para;</a></h1>
<ul>
<li>When overriding <strong>nodata</strong>, do not mix mask and only use the provided nodata value</li>
</ul>
<h1 id="630-2024-01-16">6.3.0 (2024-01-16)<a class="headerlink" href="#630-2024-01-16" title="Permanent link">&para;</a></h1>
<ul>
<li>
<p>do not use <code>warpedVRT</code> when overwriting the dataset nodata value</p>
</li>
<li>
<p>add <code>align_bounds_with_dataset</code> option in <code>rio_tiler.reader.part</code> to align input bounds with the dataset resolution</p>
<p><img src="https://github.com/cogeotiff/rio-tiler/assets/10407788/0e340d3d-e5d9-4558-93f7-3f307c017510" style="max-width: 500px;"></p>
</li>
</ul>
<h1 id="6210-2024-01-08">6.2.10 (2024-01-08)<a class="headerlink" href="#6210-2024-01-08" title="Permanent link">&para;</a></h1>
<ul>
<li>remove default Endpoint URL in AWS S3 Client for STAC Reader</li>
</ul>
<h1 id="629-2023-12-21">6.2.9 (2023-12-21)<a class="headerlink" href="#629-2023-12-21" title="Permanent link">&para;</a></h1>
<ul>
<li>fix AWS endpoint credential for STAC <code>fetch</code> function, using same defaults as GDAL vsis3 configuration</li>
</ul>
<h1 id="628-2023-12-11">6.2.8 (2023-12-11)<a class="headerlink" href="#628-2023-12-11" title="Permanent link">&para;</a></h1>
<ul>
<li>apply <code>discrete</code> colormap when the provided colormap does not have 256 values</li>
</ul>
<h1 id="627-2023-11-29">6.2.7 (2023-11-29)<a class="headerlink" href="#627-2023-11-29" title="Permanent link">&para;</a></h1>
<ul>
<li>Adjusting dataset latitude for WarpedVRT parameters calculation when EPSG:4326 dataset latitudes overflows EPSG:3857 min/max latitude (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/660" title="GitHub Pull Request: cogeotiff/rio-tiler #660">cogeotiff/rio-tiler!660</a>)</li>
</ul>
<h1 id="626-2023-11-10">6.2.6 (2023-11-10)<a class="headerlink" href="#626-2023-11-10" title="Permanent link">&para;</a></h1>
<ul>
<li>validate <code>shape</code> in <code>ImageData.get_coverage_array</code> to avoid rasterio error when re-projecting the geometry</li>
</ul>
<h1 id="625-2023-11-06">6.2.5 (2023-11-06)<a class="headerlink" href="#625-2023-11-06" title="Permanent link">&para;</a></h1>
<ul>
<li>avoid <code>indexes</code> collision in <code>MultiBaseReader</code></li>
</ul>
<h1 id="624-2023-10-19">6.2.4 (2023-10-19)<a class="headerlink" href="#624-2023-10-19" title="Permanent link">&para;</a></h1>
<ul>
<li>
<p>fix issue with <code>WarpedVRT</code> when doing re-projection (ref: <a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/648" title="GitHub Pull Request: cogeotiff/rio-tiler #648">cogeotiff/rio-tiler!648</a>)</p>
</li>
<li>
<p>move benchmark outside pytest suite</p>
</li>
<li>
<p>add GET/HEAD request tests using tilebench (outside pytest suite) (ref: <a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/649" title="GitHub Pull Request: cogeotiff/rio-tiler #649">cogeotiff/rio-tiler!649</a>)</p>
</li>
</ul>
<h1 id="623post1-2023-11-16">6.2.3.post1 (2023-11-16)<a class="headerlink" href="#623post1-2023-11-16" title="Permanent link">&para;</a></h1>
<ul>
<li>validate <code>shape</code> in <code>ImageData.get_coverage_array</code> to avoid rasterio error when re-projecting the geometry [Backported from 6.2.6]</li>
<li>avoid <code>indexes</code> collision in <code>MultiBaseReader</code> [Backported from 6.2.5]</li>
</ul>
<p>This release was made while we waited on a fix for <a class="magiclink magiclink-github magiclink-issue" href="https://github.com/cogeotiff/rio-tiler/issues/654" title="GitHub Issue: cogeotiff/rio-tiler #654">cogeotiff/rio-tiler#654</a></p>
<h1 id="623-2023-10-11">6.2.3 (2023-10-11)<a class="headerlink" href="#623-2023-10-11" title="Permanent link">&para;</a></h1>
<ul>
<li>in <code>STACReader</code> use <code>href</code> if <code>get_absolute_href()</code> returns <code>None</code></li>
</ul>
<h1 id="622-2023-10-05">6.2.2 (2023-10-05)<a class="headerlink" href="#622-2023-10-05" title="Permanent link">&para;</a></h1>
<ul>
<li>add list of assets in <code>InvalidAssetName</code> message in <code>STACReader</code></li>
</ul>
<h1 id="621-2023-09-28">6.2.1 (2023-09-28)<a class="headerlink" href="#621-2023-09-28" title="Permanent link">&para;</a></h1>
<ul>
<li>allow GeoJSON <code>Feature</code> in <code>ImageData.get_coverage_array</code> method</li>
</ul>
<h1 id="620-2023-09-27">6.2.0 (2023-09-27)<a class="headerlink" href="#620-2023-09-27" title="Permanent link">&para;</a></h1>
<ul>
<li>
<p>allow area-weighted statistics by adding <code>coverage</code> option in <code>rio_tiler.utils.get_array_statistics</code></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Data Array</span>
<span class="c1"># 1, 2</span>
<span class="c1"># 3, 4</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">ma</span><span class="o">.</span><span class="n">array</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>

<span class="c1"># Coverage Array</span>
<span class="c1"># 0.5, 0</span>
<span class="c1"># 1, 0.25</span>
<span class="n">coverage</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">((</span><span class="mf">0.5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">))</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>

<span class="n">stats</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">get_array_statistics</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">coverage</span><span class="o">=</span><span class="n">coverage</span><span class="p">)</span>
<span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">stats</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
<span class="k">assert</span> <span class="n">stats</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;min&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span>
<span class="k">assert</span> <span class="n">stats</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;max&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">4</span>
<span class="k">assert</span> <span class="n">stats</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;mean&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mf">1.125</span>  <span class="c1"># (1 * 0.5 + 2 * 0.0 + 3 * 1.0 + 4 * 0.25) / 4</span>
<span class="k">assert</span> <span class="n">stats</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;count&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mf">1.75</span>  <span class="c1"># (0.5 + 0 + 1 + 0.25) sum of the coverage array</span>

<span class="n">stats</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">get_array_statistics</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">stats</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
<span class="k">assert</span> <span class="n">stats</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;min&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span>
<span class="k">assert</span> <span class="n">stats</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;max&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">4</span>
<span class="k">assert</span> <span class="n">stats</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;mean&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mf">2.5</span>
<span class="k">assert</span> <span class="n">stats</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;count&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">4</span>
</code></pre></div>
</li>
<li>
<p>add <code>rio_tiler.utils.get_coverage_array</code> method to create a <code>coverage %</code> array</p>
</li>
<li>
<p>add <code>cmocean</code> colormaps</p>
<p><img src="https://raw.githubusercontent.com/cogeotiff/rio-tiler/main/docs/src/img/colormaps_for_oceanography.png" style="max-width: 500px;"></p>
</li>
<li>
<p>allow uppercase in <code>cmap.get</code> method</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">rio_tiler.colormap</span><span class="w"> </span><span class="kn">import</span> <span class="n">cmap</span>

<span class="c1"># Before</span>
<span class="n">cm</span> <span class="o">=</span> <span class="n">cmap</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;greys&quot;</span><span class="p">)</span>

<span class="c1"># Now</span>
<span class="n">cm</span> <span class="o">=</span> <span class="n">cmap</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;Greys&quot;</span><span class="p">)</span>
</code></pre></div>
</li>
</ul>
<h1 id="610-2023-09-15">6.1.0 (2023-09-15)<a class="headerlink" href="#610-2023-09-15" title="Permanent link">&para;</a></h1>
<ul>
<li>add <code>width</code>, <code>height</code> and <code>count</code> properties in <code>MosaicMethodBase</code></li>
<li>make sure we mosaic ImageData/PointData with same number of bands</li>
<li>resize <code>ImageData.array</code> to the first asset's width/height in <code>mosaic_reader</code></li>
</ul>
<h1 id="603-2023-09-13">6.0.3 (2023-09-13)<a class="headerlink" href="#603-2023-09-13" title="Permanent link">&para;</a></h1>
<ul>
<li>return a 1x1 image when bbox is smaller than a single pixel (author @JackDunnNZ, <a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/637" title="GitHub Pull Request: cogeotiff/rio-tiler #637">cogeotiff/rio-tiler!637</a>)</li>
</ul>
<h1 id="602-2023-08-21">6.0.2 (2023-08-21)<a class="headerlink" href="#602-2023-08-21" title="Permanent link">&para;</a></h1>
<ul>
<li>Update <code>data_as_image</code> to return masked values (author @JackDunnNZ, <a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/635" title="GitHub Pull Request: cogeotiff/rio-tiler #635">cogeotiff/rio-tiler!635</a>)</li>
</ul>
<h1 id="601-2023-07-25">6.0.1 (2023-07-25)<a class="headerlink" href="#601-2023-07-25" title="Permanent link">&para;</a></h1>
<ul>
<li>fix <code>key</code> access for <code>Info</code> and <code>BandStatistics</code> models for <code>extra</code> attributes</li>
<li>update deprecation notice to <code>7.0</code></li>
</ul>
<h1 id="600-2023-07-25">6.0.0 (2023-07-25)<a class="headerlink" href="#600-2023-07-25" title="Permanent link">&para;</a></h1>
<ul>
<li>update <code>morecantile</code> requirement to <code>&gt;=5.0,&lt;6.0</code></li>
<li>delete <code>rio_tiler.models.NodataTypes</code> (replaced with Literal within the <code>Info</code> model)</li>
</ul>
<h1 id="503-2023-07-18">5.0.3 (2023-07-18)<a class="headerlink" href="#503-2023-07-18" title="Permanent link">&para;</a></h1>
<ul>
<li>Filter useless <code>NotGeoreferencedWarning</code> warnings in  <code>Reader.feature()</code> and <code>ImageData.from_bytes()</code> methods</li>
<li>Ensure that dataset is still open when reading tags (author @JackDunnNZ, <a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/628" title="GitHub Pull Request: cogeotiff/rio-tiler #628">cogeotiff/rio-tiler!628</a>)</li>
</ul>
<h1 id="502-2023-07-11">5.0.2 (2023-07-11)<a class="headerlink" href="#502-2023-07-11" title="Permanent link">&para;</a></h1>
<ul>
<li>fix <code>ImageData.apply_color_formula()</code> method</li>
</ul>
<h1 id="501-2023-06-22">5.0.1 (2023-06-22)<a class="headerlink" href="#501-2023-06-22" title="Permanent link">&para;</a></h1>
<ul>
<li>raise <code>InvalidExpression</code> when passing invalid <code>asset</code> or <code>band</code> in an expression</li>
</ul>
<h1 id="500-2023-06-01">5.0.0 (2023-06-01)<a class="headerlink" href="#500-2023-06-01" title="Permanent link">&para;</a></h1>
<ul>
<li>
<p>Fix potential issue when getting statistics for non-valid data</p>
</li>
<li>
<p>add <code>rio-tiler.mosaic.methods.PixelSelectionMethod</code> enums with all defaults methods</p>
</li>
<li>
<p>Add <code>rio-tiler.utils._validate_shape_input</code> function to check geojson feature inputs</p>
</li>
<li>
<p>Change cutline handling in the <code>rio-tiler.io.rasterio.Reader.feature</code> method. Feature
  cutlines are now rasterized into numpy arrays and applied as masks instead of using
  the cutline vrt_option. These masks are tracked in the <code>rio-tiler.models.ImageData.cutline_mask</code>
  attribute, which are used in <code>rio-tiler.mosaic.methods.base.MosaicMethodBase</code> to stop
  mosaic building as soon as all pixels in a feature are populated</p>
</li>
<li>
<p>Fix missing <code>nodata/alpha/mask</code> forwarding for dataset with internal GCPS</p>
</li>
<li>
<p>in <code>rio_tiler.io.XarrayReader</code>, add <code>auto_expand</code> options to avoid returning 1D array (incompatible with rio-tiler) (author @abarciauskas-bgse, <a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/608" title="GitHub Pull Request: cogeotiff/rio-tiler #608">cogeotiff/rio-tiler!608</a>)</p>
</li>
<li>
<p>handle internal and user provided <code>nodata</code> values in <code>rio_tiler.io.XarrayReader</code> to create mask</p>
</li>
<li>
<p>add <code>AWS_ACCESS_KEY_ID</code>, <code>AWS_SECRET_ACCESS_KEY</code>, <code>AWS_SESSION_TOKEN</code>, <code>AWS_PROFILE</code> and <code>AWS_REGION</code> environnement overrides for <code>rio_tiler.io.stac.aws_get_object</code> function</p>
</li>
</ul>
<p><strong>breaking changes</strong></p>
<ul>
<li>
<p>remove support for non-binary mask values (e.g non-binary alpha bands, ref: <a href="https://github.com/rasterio/rasterio/issues/1721#issuecomment-586547617">rasterio/rasterio#1721</a>)</p>
</li>
<li>
<p>switch from PER-DATASET to PER-BAND mask (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/580" title="GitHub Pull Request: cogeotiff/rio-tiler #580">cogeotiff/rio-tiler!580</a>)</p>
<div class="highlight"><pre><span></span><code><span class="c1"># before</span>
<span class="k">with</span> <span class="n">COGReader</span><span class="p">(</span><span class="s2">&quot;cog.tif&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">src</span><span class="p">:</span>
    <span class="n">img</span> <span class="o">=</span> <span class="n">src</span><span class="o">.</span><span class="n">preview</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span> <span class="n">max_size</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">img</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">shape</span> <span class="o">==</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">128</span><span class="p">,</span> <span class="mi">128</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">img</span><span class="o">.</span><span class="n">mask</span><span class="o">.</span><span class="n">shape</span> <span class="o">==</span> <span class="p">(</span><span class="mi">128</span><span class="p">,</span> <span class="mi">128</span><span class="p">)</span>

<span class="c1"># now</span>
<span class="k">with</span> <span class="n">COGReader</span><span class="p">(</span><span class="s2">&quot;cog.tif&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">src</span><span class="p">:</span>
    <span class="n">img</span> <span class="o">=</span> <span class="n">src</span><span class="o">.</span><span class="n">preview</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span> <span class="n">max_size</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">img</span><span class="o">.</span><span class="n">array</span><span class="p">,</span> <span class="n">numpy</span><span class="o">.</span><span class="n">ma</span><span class="o">.</span><span class="n">MaskedArray</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">img</span><span class="o">.</span><span class="n">array</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">shape</span> <span class="o">==</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">128</span><span class="p">,</span> <span class="mi">128</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">img</span><span class="o">.</span><span class="n">array</span><span class="o">.</span><span class="n">mask</span><span class="o">.</span><span class="n">shape</span> <span class="o">==</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">128</span><span class="p">,</span> <span class="mi">128</span><span class="p">))</span>
</code></pre></div>
</li>
<li>
<p>use numpy masked array in ImageData and PointData to store the data</p>
<div class="highlight"><pre><span></span><code><span class="c1"># before</span>
<span class="n">arr</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">256</span><span class="p">,</span> <span class="mi">256</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="s2">&quot;uint16&quot;</span><span class="p">)</span>
<span class="n">img</span> <span class="o">=</span> <span class="n">ImageData</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">isintance</span><span class="p">(</span><span class="n">img</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">numpy</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span>  <span class="c1"># Attribute</span>

<span class="c1"># now</span>
<span class="n">arr</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">256</span><span class="p">,</span> <span class="mi">256</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="s2">&quot;uint16&quot;</span><span class="p">)</span>
<span class="n">img</span> <span class="o">=</span> <span class="n">ImageData</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">isintance</span><span class="p">(</span><span class="n">img</span><span class="o">.</span><span class="n">array</span><span class="p">,</span> <span class="n">numpy</span><span class="o">.</span><span class="n">ma</span><span class="o">.</span><span class="n">MaskedArray</span><span class="p">)</span>  <span class="c1"># Attribute</span>
<span class="k">assert</span> <span class="n">isintance</span><span class="p">(</span><span class="n">img</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">numpy</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span>  <span class="c1"># property</span>
<span class="k">assert</span> <span class="n">isintance</span><span class="p">(</span><span class="n">img</span><span class="o">.</span><span class="n">mask</span><span class="p">,</span> <span class="n">numpy</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span>  <span class="c1"># property</span>
</code></pre></div>
</li>
<li>
<p>remove <code>ImageData.from_array</code> method (because we now support MaskedArray directly)</p>
</li>
<li>
<p><code>rio_tiler.expression.apply_expression</code> input/output type change to <code>numpy.ma.MaskedArray</code></p>
</li>
<li>
<p>rio-tiler <code>mosaic</code> methods return <code>numpy.ma.MaskedArray</code></p>
</li>
<li>
<p>reader's <code>post_process</code> should be a Callable with <code>numpy.ma.MaskedArray</code> input/output</p>
</li>
<li>
<p>add <code>reproject_method</code> option in <code>rio_tiler.reader</code>'s method to select the <code>resampling</code> method used during reprojection</p>
<div class="highlight"><pre><span></span><code><span class="c1"># before</span>
<span class="k">with</span> <span class="n">Reader</span><span class="p">(</span><span class="s2">&quot;cog.tif&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">src</span><span class="p">:</span>
    <span class="n">im</span> <span class="o">=</span> <span class="n">src</span><span class="o">.</span><span class="n">preview</span><span class="p">(</span>
        <span class="n">dst_crs</span><span class="o">=</span><span class="s2">&quot;epsg:4326&quot;</span><span class="p">,</span>
        <span class="n">resampling_method</span><span class="o">=</span><span class="s2">&quot;bilinear&quot;</span><span class="p">,</span>  <span class="c1"># use `bilinear` for both resizing and reprojection</span>
    <span class="p">)</span>

<span class="c1"># now</span>
<span class="k">with</span> <span class="n">Reader</span><span class="p">(</span><span class="s2">&quot;cog.tif&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">src</span><span class="p">:</span>
    <span class="n">im</span> <span class="o">=</span> <span class="n">src</span><span class="o">.</span><span class="n">preview</span><span class="p">(</span>
        <span class="n">dst_crs</span><span class="o">=</span><span class="s2">&quot;epsg:4326&quot;</span><span class="p">,</span>
        <span class="n">resampling_method</span><span class="o">=</span><span class="s2">&quot;cubic&quot;</span><span class="p">,</span>  <span class="c1"># use `cubic` for resizing</span>
        <span class="n">reproject_method</span><span class="o">=</span><span class="s2">&quot;bilinear&quot;</span><span class="p">,</span>  <span class="c1"># use `bilinear` for reprojection</span>
    <span class="p">)</span>
</code></pre></div>
</li>
<li>
<p>refactored the <code>MosaicMethodBase</code> to use python's dataclass</p>
</li>
<li>
<p>changed variable names in <code>MosaicMethodBase</code> (<code>tile</code> -&gt; <code>mosaic</code>)</p>
</li>
<li>
<p><code>rio_tiler.mosaic.methods.defaults.LastBandHigh</code> renamed <code>LastBandHighMethod</code></p>
</li>
<li>
<p><code>rio_tiler.mosaic.methods.defaults.LastBandLow</code> renamed <code>LastBandLowMethod</code></p>
</li>
<li>
<p>move <code>aws_get_object</code> from <code>rio_tiler.utils</code> to <code>rio_tiler.io.stac</code></p>
</li>
<li>
<p>make <code>boto3</code> an optional dependency (<code>python -m pip install rio-tiler["s3"]</code>)</p>
</li>
<li>
<p>update <code>morecantile</code> dependency to <code>&gt;=4.0</code></p>
</li>
<li>
<p>add <code>metadata</code> in ImageData/PointData from rasterio dataset <code>tags</code></p>
</li>
<li>
<p>forward statistics from the <strong>raster STAC extension</strong> to the ImageData object</p>
<div class="highlight"><pre><span></span><code><span class="k">with</span> <span class="n">STACReader</span><span class="p">(</span><span class="n">STAC_RASTER_PATH</span><span class="p">)</span> <span class="k">as</span> <span class="n">stac</span><span class="p">:</span>
    <span class="n">info</span> <span class="o">=</span> <span class="n">stac</span><span class="o">.</span><span class="n">_get_asset_info</span><span class="p">(</span><span class="s2">&quot;green&quot;</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">info</span><span class="p">[</span><span class="s2">&quot;dataset_statistics&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="p">[(</span><span class="mi">6883</span><span class="p">,</span> <span class="mi">62785</span><span class="p">)]</span>
    <span class="k">assert</span> <span class="n">info</span><span class="p">[</span><span class="s2">&quot;metadata&quot;</span><span class="p">]</span>
    <span class="k">assert</span> <span class="s2">&quot;raster:bands&quot;</span> <span class="ow">in</span> <span class="n">info</span><span class="p">[</span><span class="s2">&quot;metadata&quot;</span><span class="p">]</span>

    <span class="n">img</span> <span class="o">=</span> <span class="n">stac</span><span class="o">.</span><span class="n">preview</span><span class="p">(</span><span class="n">assets</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;green&quot;</span><span class="p">,</span> <span class="s2">&quot;red&quot;</span><span class="p">))</span>
    <span class="k">assert</span> <span class="n">img</span><span class="o">.</span><span class="n">dataset_statistics</span> <span class="o">==</span> <span class="p">[(</span><span class="mi">6883</span><span class="p">,</span> <span class="mi">62785</span><span class="p">),</span> <span class="p">(</span><span class="mi">6101</span><span class="p">,</span> <span class="mi">65035</span><span class="p">)]</span>
    <span class="k">assert</span> <span class="n">img</span><span class="o">.</span><span class="n">metadata</span><span class="p">[</span><span class="s2">&quot;green&quot;</span><span class="p">]</span>  <span class="c1"># extra_fields from the STAC assets (e.g `&quot;raster:bands&quot;`)</span>
    <span class="k">assert</span> <span class="n">img</span><span class="o">.</span><span class="n">metadata</span><span class="p">[</span><span class="s2">&quot;red&quot;</span><span class="p">]</span>
</code></pre></div>
</li>
<li>
<p>add Deprecation warning for <code>ImageData.from_array</code>, <code>ImageData.as_masked</code>, <code>PointData.as_masked</code> methods</p>
</li>
</ul>
<h1 id="4113-2023-06-22">4.1.13 (2023-06-22)<a class="headerlink" href="#4113-2023-06-22" title="Permanent link">&para;</a></h1>
<ul>
<li>raise InvalidExpression when passing invalid asset or band in an expression (Backported from 5.0.1)</li>
</ul>
<h1 id="4112-2023-06-16">4.1.12 (2023-06-16)<a class="headerlink" href="#4112-2023-06-16" title="Permanent link">&para;</a></h1>
<ul>
<li>fix issue with <code>rio_tiler.utils.get_array_statistics</code> when passing data with no <code>valid</code> value</li>
</ul>
<h1 id="4111-2023-05-18">4.1.11 (2023-05-18)<a class="headerlink" href="#4111-2023-05-18" title="Permanent link">&para;</a></h1>
<ul>
<li>in <code>rio_tiler.io.XarrayReader</code>, add <code>auto_expand</code> options to avoid returning 1D array (incompatible with rio-tiler) (author @abarciauskas-bgse, <a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/608" title="GitHub Pull Request: cogeotiff/rio-tiler #608">cogeotiff/rio-tiler!608</a>)</li>
</ul>
<h1 id="4110-2023-03-24">4.1.10 (2023-03-24)<a class="headerlink" href="#4110-2023-03-24" title="Permanent link">&para;</a></h1>
<ul>
<li>enable <code>boundless</code> geometry for cutline (author @yellowcap, <a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/586" title="GitHub Pull Request: cogeotiff/rio-tiler #586">cogeotiff/rio-tiler!586</a>)</li>
</ul>
<h1 id="419-2023-02-28">4.1.9 (2023-02-28)<a class="headerlink" href="#419-2023-02-28" title="Permanent link">&para;</a></h1>
<ul>
<li>Automatically expand 2D numpy array to 3D when creating ImageData</li>
</ul>
<h1 id="418-2023-02-15">4.1.8 (2023-02-15)<a class="headerlink" href="#418-2023-02-15" title="Permanent link">&para;</a></h1>
<ul>
<li>Fix dtype issue when working with Mosaics Methods. Mask should always been of type <code>Uint8</code>.</li>
<li>Fix <code>ImageData.from_array</code> method when working with Masked array</li>
</ul>
<h1 id="417-2023-02-07">4.1.7 (2023-02-07)<a class="headerlink" href="#417-2023-02-07" title="Permanent link">&para;</a></h1>
<ul>
<li>add <code>from_array</code> and <code>from_bytes</code> ImageData creation methods</li>
<li>add <code>statistics</code> method to ImageData</li>
</ul>
<h1 id="416-2023-01-18">4.1.6 (2023-01-18)<a class="headerlink" href="#416-2023-01-18" title="Permanent link">&para;</a></h1>
<ul>
<li>add <code>apply_colormap</code> method to the ImageData class</li>
<li>fix potential datatype overflow when calculating the intersection of mask and alpha band when using Colormap</li>
</ul>
<h1 id="415-2022-12-20">4.1.5 (2022-12-20)<a class="headerlink" href="#415-2022-12-20" title="Permanent link">&para;</a></h1>
<ul>
<li>Fix inverted col/row check when doing window read of a non WarpedVRT dataset</li>
</ul>
<h1 id="414-2022-12-16">4.1.4 (2022-12-16)<a class="headerlink" href="#414-2022-12-16" title="Permanent link">&para;</a></h1>
<ul>
<li>add <code>rio_tiler.mosaic.mosaic_point_reader</code> function to create Point value from multiple observation
    <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">reader</span><span class="p">(</span><span class="n">asset</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PointData</span><span class="p">:</span>
    <span class="k">with</span> <span class="n">Reader</span><span class="p">(</span><span class="n">asset</span><span class="p">)</span> <span class="k">as</span> <span class="n">src</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">src</span><span class="o">.</span><span class="n">point</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<span class="n">pt</span><span class="p">:</span> <span class="n">PointData</span> <span class="o">=</span> <span class="n">mosaic_point_reader</span><span class="p">([</span><span class="s2">&quot;cog.tif&quot;</span><span class="p">,</span> <span class="s2">&quot;cog2.tif&quot;</span><span class="p">],</span> <span class="n">reader</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</code></pre></div></li>
</ul>
<h1 id="413-2022-12-15">4.1.3 (2022-12-15)<a class="headerlink" href="#413-2022-12-15" title="Permanent link">&para;</a></h1>
<ul>
<li>fix invalid definition of <code>PointData.mask</code> when mask is not provided. Makes sure it's a one element array.</li>
</ul>
<h1 id="412-2022-12-15">4.1.2 (2022-12-15)<a class="headerlink" href="#412-2022-12-15" title="Permanent link">&para;</a></h1>
<ul>
<li>raise <code>InvalidPointDataError</code> error when trying to create PointData from an empty list in <code>PointData.create_from_list</code></li>
</ul>
<h1 id="411-2022-12-12">4.1.1 (2022-12-12)<a class="headerlink" href="#411-2022-12-12" title="Permanent link">&para;</a></h1>
<ul>
<li>fix invalid coordinates slicing for <code>XArrayReader.point()</code> method (author @benjaminleighton, <a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/559" title="GitHub Pull Request: cogeotiff/rio-tiler #559">cogeotiff/rio-tiler!559</a>)</li>
</ul>
<h1 id="410-2022-11-24">4.1.0 (2022-11-24)<a class="headerlink" href="#410-2022-11-24" title="Permanent link">&para;</a></h1>
<ul>
<li>add <code>asset_as_band</code> option in <code>MultiBaseReader</code> tile, part, preview, feature and point methods</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="k">with</span> <span class="n">STACReader</span><span class="p">(</span><span class="n">STAC_PATH</span><span class="p">)</span> <span class="k">as</span> <span class="n">stac</span><span class="p">:</span>
    <span class="n">img</span> <span class="o">=</span> <span class="n">stac</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="mi">71</span><span class="p">,</span> <span class="mi">102</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="n">assets</span><span class="o">=</span><span class="s2">&quot;green&quot;</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">img</span><span class="o">.</span><span class="n">band_names</span> <span class="o">==</span> <span class="p">[</span><span class="s2">&quot;green_b1&quot;</span><span class="p">]</span>

<span class="k">with</span> <span class="n">STACReader</span><span class="p">(</span><span class="n">STAC_PATH</span><span class="p">)</span> <span class="k">as</span> <span class="n">stac</span><span class="p">:</span>
    <span class="n">img</span> <span class="o">=</span> <span class="n">stac</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="mi">71</span><span class="p">,</span> <span class="mi">102</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="n">assets</span><span class="o">=</span><span class="s2">&quot;green&quot;</span><span class="p">,</span> <span class="n">asset_as_band</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">img</span><span class="o">.</span><span class="n">band_names</span> <span class="o">==</span> <span class="p">[</span><span class="s2">&quot;green&quot;</span><span class="p">]</span>

<span class="c1"># For expression, without `asset_as_band` tag, users have to pass `_b{n}` suffix to indicate the band index</span>
<span class="k">with</span> <span class="n">STACReader</span><span class="p">(</span><span class="n">STAC_PATH</span><span class="p">)</span> <span class="k">as</span> <span class="n">stac</span><span class="p">:</span>
    <span class="n">img</span> <span class="o">=</span> <span class="n">stac</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="mi">71</span><span class="p">,</span> <span class="mi">102</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="n">expression</span><span class="o">=</span><span class="s2">&quot;green_b1/red_b1&quot;</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">img</span><span class="o">.</span><span class="n">band_names</span> <span class="o">==</span> <span class="p">[</span><span class="s2">&quot;green_b1/red_b1&quot;</span><span class="p">]</span>

<span class="k">with</span> <span class="n">STACReader</span><span class="p">(</span><span class="n">STAC_PATH</span><span class="p">)</span> <span class="k">as</span> <span class="n">stac</span><span class="p">:</span>
    <span class="n">img</span> <span class="o">=</span> <span class="n">stac</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="mi">71</span><span class="p">,</span> <span class="mi">102</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="n">expression</span><span class="o">=</span><span class="s2">&quot;green/red&quot;</span><span class="p">,</span> <span class="n">asset_as_band</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">img</span><span class="o">.</span><span class="n">band_names</span> <span class="o">==</span> <span class="p">[</span><span class="s2">&quot;green/red&quot;</span><span class="p">]</span>
</code></pre></div>
<h1 id="400-2022-11-21">4.0.0 (2022-11-21)<a class="headerlink" href="#400-2022-11-21" title="Permanent link">&para;</a></h1>
<ul>
<li>remove deprecated code</li>
<li><code>asset_expression</code> in MultiBaseReader</li>
<li><code>GCPCOGReader</code></li>
</ul>
<h1 id="400a2-2022-11-15">4.0.0a2 (2022-11-15)<a class="headerlink" href="#400a2-2022-11-15" title="Permanent link">&para;</a></h1>
<ul>
<li>use of <code>file:header_size</code> extension in <code>STACReader</code> to set <code>GDAL_INGESTED_BYTES_AT_OPEN</code> environment variable</li>
</ul>
<p><strong>breaking changes</strong></p>
<ul>
<li>renamed <code>MultiBaseReader._get_asset_url</code> to <code>MultiBaseReader._get_asset_info</code> and change the output to return a dictionary in form of <code>{"url": ..., "env": ...}</code></li>
</ul>
<h1 id="400a1-2022-11-10">4.0.0a1 (2022-11-10)<a class="headerlink" href="#400a1-2022-11-10" title="Permanent link">&para;</a></h1>
<ul>
<li>assign ColorInterp.alpha to rendered image when we add the mask band</li>
<li>add <code>.clip(bbox: BBox)</code> and <code>.resize(height: int, width: int)</code> methods to ImageData object</li>
<li>add python 3.11 support</li>
<li>replace <code>rio-color</code> by <code>color-operations</code> module</li>
</ul>
<h1 id="400a0-2022-10-20">4.0.0a0 (2022-10-20)<a class="headerlink" href="#400a0-2022-10-20" title="Permanent link">&para;</a></h1>
<ul>
<li>add python 3.10 support</li>
<li>add <code>apply_expression</code> method in <code>rio_tiler.models.ImageData</code> class</li>
<li>update <code>rio-tiler.reader.read/part</code> to avoid using WarpedVRT when no <em>reprojection</em> or <em>nodata override</em> is needed</li>
<li>
<p>add <code>rio_tiler.io.rasterio.ImageReader</code> to work either with Non-geo or Geo images in a Non-geo manner (a.k.a: in the pixel coordinates system)
    <div class="highlight"><pre><span></span><code><span class="k">with</span> <span class="n">ImageReader</span><span class="p">(</span><span class="s2">&quot;image.jpg&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">src</span><span class="p">:</span>
    <span class="n">im</span> <span class="o">=</span> <span class="n">src</span><span class="o">.</span><span class="n">part</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>

<span class="k">with</span> <span class="n">ImageReader</span><span class="p">(</span><span class="s2">&quot;image.jpg&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">src</span><span class="p">:</span>
    <span class="n">im</span> <span class="o">=</span> <span class="n">src</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">src</span><span class="o">.</span><span class="n">maxzoom</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">im</span><span class="o">.</span><span class="n">bounds</span><span class="p">)</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">BoundingBox</span><span class="p">(</span><span class="n">left</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">bottom</span><span class="o">=</span><span class="mf">256.0</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="mf">256.0</span><span class="p">,</span> <span class="n">top</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span>
</code></pre></div></p>
</li>
<li>
<p>add <code>rio_tiler.io.xarray.XarrayReader</code> to work with <code>xarray.DataArray</code>
    <div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">xarray</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">rio_tiler.io</span><span class="w"> </span><span class="kn">import</span> <span class="n">XarrayReader</span>

<span class="k">with</span> <span class="n">xarray</span><span class="o">.</span><span class="n">open_dataset</span><span class="p">(</span>
    <span class="s2">&quot;https://ncsa.osn.xsede.org/Pangeo/pangeo-forge/noaa-coastwatch-geopolar-sst-feedstock/noaa-coastwatch-geopolar-sst.zarr&quot;</span><span class="p">,</span>
    <span class="n">engine</span><span class="o">=</span><span class="s2">&quot;zarr&quot;</span><span class="p">,</span>
    <span class="n">decode_coords</span><span class="o">=</span><span class="s2">&quot;all&quot;</span>
<span class="p">)</span> <span class="k">as</span> <span class="n">src</span><span class="p">:</span>
    <span class="n">ds</span> <span class="o">=</span> <span class="n">src</span><span class="p">[</span><span class="s2">&quot;analysed_sst&quot;</span><span class="p">][:</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">ds</span><span class="o">.</span><span class="n">rio</span><span class="o">.</span><span class="n">write_crs</span><span class="p">(</span><span class="s2">&quot;epsg:4326&quot;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">with</span> <span class="n">XarrayReader</span><span class="p">(</span><span class="n">ds</span><span class="p">)</span> <span class="k">as</span> <span class="n">dst</span><span class="p">:</span>
        <span class="n">img</span> <span class="o">=</span> <span class="n">dst</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</code></pre></div>
    note: <code>xarray</code> and <code>rioxarray</code> optional dependencies are needed for the reader</p>
</li>
</ul>
<p><strong>breaking changes</strong></p>
<ul>
<li>remove python 3.7 support</li>
<li>update rasterio requirement to <code>&gt;=1.3</code> to allow python 3.10 support</li>
<li>rename <code>rio_tiler.io.cogeo</code> to <code>rio_tiler.io.rasterio</code></li>
<li>
<p>rename <code>COGReader</code> to <code>Reader</code>. We added <code>rio_tiler.io.COGReader</code> alias to <code>rio_tiler.io.Reader</code> backwards compatibility
    <div class="highlight"><pre><span></span><code><span class="c1"># before</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">rio_tiler.io</span><span class="w"> </span><span class="kn">import</span> <span class="n">COGReader</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">rio_tiler.io.cogeo</span><span class="w"> </span><span class="kn">import</span> <span class="n">COGReader</span>

<span class="c1"># now</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">rio_tiler.io</span><span class="w"> </span><span class="kn">import</span> <span class="n">Reader</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">rio_tiler.io.rasterio</span><span class="w"> </span><span class="kn">import</span> <span class="n">Reader</span>
</code></pre></div></p>
</li>
<li>
<p><code>rio_tiler.readers.read()</code>, <code>rio_tiler.readers.part()</code>, <code>rio_tiler.readers.preview()</code> now return a ImageData object</p>
</li>
<li>remove <code>minzoom</code> and <code>maxzoom</code> attribute in <code>rio_tiler.io.SpatialMixin</code> base class</li>
<li>remove <code>minzoom</code> and <code>maxzoom</code> attribute in <code>rio_tiler.io.Reader</code> (now defined as properties)</li>
<li>
<p>use <code>b</code> prefix for band names in <code>rio_tiler.models.ImageData</code> class (and in rio-tiler's readers)
    <div class="highlight"><pre><span></span><code><span class="c1"># before</span>
<span class="k">with</span> <span class="n">COGReader</span><span class="p">(</span><span class="s2">&quot;cog.tif&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">cog</span><span class="p">:</span>
    <span class="n">img</span> <span class="o">=</span> <span class="n">cog</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">cog</span><span class="o">.</span><span class="n">band_names</span><span class="p">)</span>
    <span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span> <span class="s2">&quot;3&quot;</span><span class="p">]</span>

    <span class="nb">print</span><span class="p">(</span><span class="n">cog</span><span class="o">.</span><span class="n">info</span><span class="p">()</span><span class="o">.</span><span class="n">band_metadata</span><span class="p">)</span>
    <span class="o">&gt;&gt;&gt;</span> <span class="p">[(</span><span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="p">{}),</span> <span class="p">(</span><span class="s2">&quot;2&quot;</span><span class="p">,</span> <span class="p">{}),</span> <span class="p">(</span><span class="s2">&quot;3&quot;</span><span class="p">,</span> <span class="p">{})]</span>

    <span class="nb">print</span><span class="p">(</span><span class="n">cog</span><span class="o">.</span><span class="n">info</span><span class="p">()</span><span class="o">.</span><span class="n">band_descriptions</span><span class="p">)</span>
    <span class="o">&gt;&gt;&gt;</span> <span class="p">[(</span><span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;2&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;3&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)]</span>

    <span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">cog</span><span class="o">.</span><span class="n">statistics</span><span class="p">()))</span>
    <span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span> <span class="s2">&quot;3&quot;</span><span class="p">]</span>

<span class="c1"># now</span>
<span class="k">with</span> <span class="n">Reader</span><span class="p">(</span><span class="s2">&quot;cog.tif&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">cog</span><span class="p">:</span>
    <span class="n">img</span> <span class="o">=</span> <span class="n">cog</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">img</span><span class="o">.</span><span class="n">band_names</span><span class="p">)</span>
    <span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="s2">&quot;b1&quot;</span><span class="p">,</span> <span class="s2">&quot;b2&quot;</span><span class="p">,</span> <span class="s2">&quot;b3&quot;</span><span class="p">]</span>

    <span class="nb">print</span><span class="p">(</span><span class="n">cog</span><span class="o">.</span><span class="n">info</span><span class="p">()</span><span class="o">.</span><span class="n">band_metadata</span><span class="p">)</span>
    <span class="o">&gt;&gt;&gt;</span> <span class="p">[(</span><span class="s2">&quot;b1&quot;</span><span class="p">,</span> <span class="p">{}),</span> <span class="p">(</span><span class="s2">&quot;b2&quot;</span><span class="p">,</span> <span class="p">{}),</span> <span class="p">(</span><span class="s2">&quot;b3&quot;</span><span class="p">,</span> <span class="p">{})]</span>

    <span class="nb">print</span><span class="p">(</span><span class="n">cog</span><span class="o">.</span><span class="n">info</span><span class="p">()</span><span class="o">.</span><span class="n">band_descriptions</span><span class="p">)</span>
    <span class="o">&gt;&gt;&gt;</span> <span class="p">[(</span><span class="s2">&quot;b1&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;b2&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;b3&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)]</span>

    <span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">cog</span><span class="o">.</span><span class="n">statistics</span><span class="p">()))</span>
    <span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="s2">&quot;b1&quot;</span><span class="p">,</span> <span class="s2">&quot;b2&quot;</span><span class="p">,</span> <span class="s2">&quot;b3&quot;</span><span class="p">]</span>

<span class="k">with</span> <span class="n">STACReader</span><span class="p">(</span><span class="s2">&quot;stac.json&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">stac</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">stac</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="mi">701</span><span class="p">,</span> <span class="mi">102</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="n">assets</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;green&quot;</span><span class="p">,</span> <span class="s2">&quot;red&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">band_names</span><span class="p">)</span>
    <span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="s2">&quot;green_b1&quot;</span><span class="p">,</span> <span class="s2">&quot;red_b1&quot;</span><span class="p">]</span>
</code></pre></div></p>
</li>
<li>
<p>depreciate <code>asset_expression</code> in MultiBaseReader. Use of expression is now possible</p>
</li>
<li>
<p><code>expression</code> for MultiBaseReader must be in form of <code>{asset}_b{index}</code></p>
<div class="highlight"><pre><span></span><code><span class="c1"># before</span>
<span class="k">with</span> <span class="n">STACReader</span><span class="p">(</span><span class="s2">&quot;stac.json&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">stac</span><span class="p">:</span>
    <span class="n">stac</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="mi">701</span><span class="p">,</span> <span class="mi">102</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="n">expression</span><span class="o">=</span><span class="s2">&quot;green/red&quot;</span><span class="p">)</span>

<span class="c1"># now</span>
<span class="k">with</span> <span class="n">STACReader</span><span class="p">(</span><span class="s2">&quot;stac.json&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">stac</span><span class="p">:</span>
    <span class="n">stac</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="mi">701</span><span class="p">,</span> <span class="mi">102</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="n">expression</span><span class="o">=</span><span class="s2">&quot;green_b1/red_b1&quot;</span><span class="p">)</span>
</code></pre></div>
</li>
<li>
<p><code>rio_tiler.reader.point()</code> (and all Reader's point methods) now return a <strong>rio_tiler.models.PointData</strong> object</p>
<div class="highlight"><pre><span></span><code><span class="c1"># before</span>
<span class="k">with</span> <span class="n">rasterio</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;cog.tif&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">src</span><span class="p">::</span>
    <span class="n">v</span> <span class="o">=</span> <span class="n">rio_tiler</span><span class="o">.</span><span class="n">reader</span><span class="o">.</span><span class="n">point</span><span class="p">(</span><span class="mf">10.20</span><span class="p">,</span> <span class="o">-</span><span class="mf">42.0</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
    <span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>

<span class="k">with</span> <span class="n">COGReader</span><span class="p">(</span><span class="s2">&quot;cog.tif&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">cog</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">cog</span><span class="o">.</span><span class="n">point</span><span class="p">(</span><span class="mf">10.20</span><span class="p">,</span> <span class="o">-</span><span class="mf">42.0</span><span class="p">))</span>
    <span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>

<span class="c1"># now</span>
<span class="k">with</span> <span class="n">rasterio</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;cog.tif&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">src</span><span class="p">::</span>
    <span class="n">v</span> <span class="o">=</span> <span class="n">rio_tiler</span><span class="o">.</span><span class="n">reader</span><span class="o">.</span><span class="n">point</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="p">(</span><span class="mf">10.20</span><span class="p">,</span> <span class="o">-</span><span class="mi">42</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
    <span class="o">&gt;&gt;&gt;</span> <span class="n">PointData</span><span class="p">(</span>
        <span class="n">data</span><span class="o">=</span><span class="n">array</span><span class="p">([</span><span class="mi">3744</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">uint16</span><span class="p">),</span>
        <span class="n">mask</span><span class="o">=</span><span class="n">array</span><span class="p">([</span><span class="mi">255</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">uint8</span><span class="p">),</span>
        <span class="n">band_names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;b1&#39;</span><span class="p">],</span>
        <span class="n">coordinates</span><span class="o">=</span><span class="p">(</span><span class="mf">10.20</span><span class="p">,</span> <span class="o">-</span><span class="mi">42</span><span class="p">),</span>
        <span class="n">crs</span><span class="o">=</span><span class="n">CRS</span><span class="o">.</span><span class="n">from_epsg</span><span class="p">(</span><span class="mi">4326</span><span class="p">),</span>
        <span class="n">assets</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;cog.tif&#39;</span><span class="p">],</span>
        <span class="n">metadata</span><span class="o">=</span><span class="p">{}</span>
    <span class="p">)</span>

<span class="k">with</span> <span class="n">Reader</span><span class="p">(</span><span class="s2">&quot;cog.tif&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">cog</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">cog</span><span class="o">.</span><span class="n">point</span><span class="p">(</span><span class="mf">10.20</span><span class="p">,</span> <span class="o">-</span><span class="mf">42.0</span><span class="p">))</span>
    <span class="o">&gt;&gt;&gt;</span> <span class="n">PointData</span><span class="p">(</span>
        <span class="n">data</span><span class="o">=</span><span class="n">array</span><span class="p">([</span><span class="mi">3744</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">uint16</span><span class="p">),</span>
        <span class="n">mask</span><span class="o">=</span><span class="n">array</span><span class="p">([</span><span class="mi">255</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">uint8</span><span class="p">),</span>
        <span class="n">band_names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;b1&#39;</span><span class="p">],</span>
        <span class="n">coordinates</span><span class="o">=</span><span class="p">(</span><span class="mf">10.20</span><span class="p">,</span> <span class="o">-</span><span class="mi">42</span><span class="p">),</span>
        <span class="n">crs</span><span class="o">=</span><span class="n">CRS</span><span class="o">.</span><span class="n">from_epsg</span><span class="p">(</span><span class="mi">4326</span><span class="p">),</span>
        <span class="n">assets</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;cog.tif&#39;</span><span class="p">],</span>
        <span class="n">metadata</span><span class="o">=</span><span class="p">{}</span>
    <span class="p">)</span>
</code></pre></div>
</li>
<li>
<p>deleted <code>rio_tiler.reader.preview</code> function and updated <code>rio_tiler.reader.read</code> to allow width/height/max_size options</p>
</li>
<li>reordered keyword options in all <code>rio_tiler.reader</code> function for consistency</li>
<li>removed <code>AlphaBandWarning</code> warning when automatically excluding alpha band from data</li>
<li>remove <code>nodata</code>, <code>unscale</code>, <code>resampling_method</code>, <code>vrt_options</code> and <code>post_process</code> options to <code>Reader</code> init method and replaced with <code>options</code>
    <div class="highlight"><pre><span></span><code><span class="c1"># before</span>
<span class="k">with</span> <span class="n">COGReader</span><span class="p">(</span><span class="s2">&quot;cog.tif&quot;</span><span class="p">,</span> <span class="n">nodata</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">resampling_method</span><span class="o">=</span><span class="s2">&quot;bilinear&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">cog</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">cog</span><span class="o">.</span><span class="n">preview</span><span class="p">()</span>

<span class="c1"># now</span>
<span class="k">with</span> <span class="n">Reader</span><span class="p">(</span><span class="n">COGEO</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;nodata&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;resampling_method&quot;</span><span class="p">:</span> <span class="s2">&quot;bilinear&quot;</span><span class="p">})</span> <span class="k">as</span> <span class="n">cog</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">cog</span><span class="o">.</span><span class="n">preview</span><span class="p">()</span>
</code></pre></div></li>
</ul>
<h1 id="316-2022-07-22">3.1.6 (2022-07-22)<a class="headerlink" href="#316-2022-07-22" title="Permanent link">&para;</a></h1>
<ul>
<li>Hide <code>NotGeoreferencedWarning</code> warnings in <code>utils.render</code> and <code>utils.resize_array</code></li>
<li>update <code>MultiBaseReader</code> and <code>MultiBandReader</code> <code>points</code> method to prepare for numpy changes.</li>
</ul>
<h1 id="315-2022-07-06">3.1.5 (2022-07-06)<a class="headerlink" href="#315-2022-07-06" title="Permanent link">&para;</a></h1>
<ul>
<li>Deprecate <code>rio_tiler.io.GCPCOGReader</code> and allow GPCS dataset to be opened by <code>rio_tiler.io.COGReader</code></li>
</ul>
<div class="highlight"><pre><span></span><code><span class="c1"># before</span>
<span class="k">with</span> <span class="n">GCPCOGReader</span><span class="p">(</span><span class="s2">&quot;my.tif&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">cog</span><span class="p">:</span>
    <span class="o">...</span>

<span class="c1"># now, COGReader will find the gcps and create an internal WarpedVRT using the gpcs and crs</span>
<span class="k">with</span> <span class="n">COGReader</span><span class="p">(</span><span class="s2">&quot;my.tif&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">cog</span><span class="p">:</span>
    <span class="o">...</span>
</code></pre></div>
<ul>
<li>add <code>ImageData.rescale</code> to rescale the array in place</li>
<li>add <code>ImageData.apply_color_formula</code> to apply color formula in place</li>
</ul>
<h1 id="314-2022-04-14">3.1.4 (2022-04-14)<a class="headerlink" href="#314-2022-04-14" title="Permanent link">&para;</a></h1>
<ul>
<li>Fix cutline creation for MultiPolygon (author @Fernigithub, <a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/493" title="GitHub Pull Request: cogeotiff/rio-tiler #493">cogeotiff/rio-tiler!493</a>)</li>
</ul>
<h1 id="313-2022-04-08">3.1.3 (2022-04-08)<a class="headerlink" href="#313-2022-04-08" title="Permanent link">&para;</a></h1>
<ul>
<li>Switch to <code>pyproject.toml</code> and <code>flit</code> for packaging (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/490" title="GitHub Pull Request: cogeotiff/rio-tiler #490">cogeotiff/rio-tiler!490</a>)</li>
<li>Catch discrete colormap with negative values (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/492" title="GitHub Pull Request: cogeotiff/rio-tiler #492">cogeotiff/rio-tiler!492</a>)</li>
</ul>
<h1 id="312-2022-03-25">3.1.2 (2022-03-25)<a class="headerlink" href="#312-2022-03-25" title="Permanent link">&para;</a></h1>
<ul>
<li>avoid calculating statistics for non-finite values (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/489" title="GitHub Pull Request: cogeotiff/rio-tiler #489">cogeotiff/rio-tiler!489</a>)</li>
</ul>
<h1 id="311-2022-03-17">3.1.1 (2022-03-17)<a class="headerlink" href="#311-2022-03-17" title="Permanent link">&para;</a></h1>
<ul>
<li>forward <code>band names</code> to ImageData output in <code>mosaic_reader</code> (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/486" title="GitHub Pull Request: cogeotiff/rio-tiler #486">cogeotiff/rio-tiler!486</a>)</li>
</ul>
<h1 id="310-2022-02-21">3.1.0 (2022-02-21)<a class="headerlink" href="#310-2022-02-21" title="Permanent link">&para;</a></h1>
<ul>
<li>add support for setting the S3 endpoint url scheme via the <code>AWS_HTTPS</code> environment variables in <code>aws_get_object</code> function using boto3 (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/476" title="GitHub Pull Request: cogeotiff/rio-tiler #476">cogeotiff/rio-tiler!476</a>)</li>
<li>Add semicolon <code>;</code> support for multi-blocks expression (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/479" title="GitHub Pull Request: cogeotiff/rio-tiler #479">cogeotiff/rio-tiler!479</a>)</li>
<li>add <code>rio_tiler.expression.get_expression_blocks</code> method to split expression (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/479" title="GitHub Pull Request: cogeotiff/rio-tiler #479">cogeotiff/rio-tiler!479</a>)</li>
<li>add <code>merged_statistics</code> method for <code>MultiBaseReader</code> to get statistics using between assets expression (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/478" title="GitHub Pull Request: cogeotiff/rio-tiler #478">cogeotiff/rio-tiler!478</a>)</li>
</ul>
<p><strong>future deprecation</strong></p>
<ul>
<li>using a comma <code>,</code> in an expression to define multiple blocks will be replaced by semicolon <code>;</code></li>
</ul>
<div class="highlight"><pre><span></span><code><span class="c1"># before</span>
<span class="n">expression</span> <span class="o">=</span> <span class="s2">&quot;b1+b2,b2&quot;</span>

<span class="c1"># new</span>
<span class="n">expression</span> <span class="o">=</span> <span class="s2">&quot;b1+b2;b2&quot;</span>
</code></pre></div>
<p><strong>breaking changes</strong></p>
<ul>
<li>update morecantile requirement to <code>&gt;=3.1,&lt;4.0</code>. WebMercatorQuad TMS is now aligned with GDAL and Mercantile TMS definition.</li>
</ul>
<h1 id="303-2022-01-18">3.0.3 (2022-01-18)<a class="headerlink" href="#303-2022-01-18" title="Permanent link">&para;</a></h1>
<ul>
<li>make sure we raise an HTTP exception when using an invalid STAC url (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/475" title="GitHub Pull Request: cogeotiff/rio-tiler #475">cogeotiff/rio-tiler!475</a>)</li>
</ul>
<h1 id="302-2022-01-03">3.0.2 (2022-01-03)<a class="headerlink" href="#302-2022-01-03" title="Permanent link">&para;</a></h1>
<ul>
<li>switch from <code>functools.lru_cache</code> to <code>cachetools.LRUCache</code> to allow unashable options in <code>rio_tiler.io.stac.fetch</code> function (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/471" title="GitHub Pull Request: cogeotiff/rio-tiler #471">cogeotiff/rio-tiler!471</a>)</li>
</ul>
<h1 id="301-2021-12-03">3.0.1 (2021-12-03)<a class="headerlink" href="#301-2021-12-03" title="Permanent link">&para;</a></h1>
<ul>
<li>avoid useless call to <code>transform_bounds</code> if input/output CRS are equals (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/466" title="GitHub Pull Request: cogeotiff/rio-tiler #466">cogeotiff/rio-tiler!466</a>)</li>
<li>make sure <code>geographic_bounds</code> don't return inf or nan values (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/467" title="GitHub Pull Request: cogeotiff/rio-tiler #467">cogeotiff/rio-tiler!467</a>)</li>
</ul>
<h1 id="300-2021-11-29">3.0.0 (2021-11-29)<a class="headerlink" href="#300-2021-11-29" title="Permanent link">&para;</a></h1>
<ul>
<li>no change since <code>3.0.0a6</code></li>
</ul>
<h1 id="300a6-2021-11-22">3.0.0a6 (2021-11-22)<a class="headerlink" href="#300a6-2021-11-22" title="Permanent link">&para;</a></h1>
<ul>
<li>add <code>rio_tiler.utils.resize_array</code> to resize array to a given width/height (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/463" title="GitHub Pull Request: cogeotiff/rio-tiler #463">cogeotiff/rio-tiler!463</a>)</li>
<li>use <code>resize_array</code> in <code>ImageData.create_from_list</code> to avoid trying merging array of different sizes (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/463" title="GitHub Pull Request: cogeotiff/rio-tiler #463">cogeotiff/rio-tiler!463</a>)</li>
</ul>
<p><strong>breaking changes</strong></p>
<ul>
<li>update <code>MultiBaseReader</code> and <code>MultiBandReader</code> to be their own abstract classes instead of being subclass of <code>BaseReader</code>.</li>
<li>put <code>reader</code> attribute outside of the <code>__init__</code> method for <code>MultiBaseReader</code> and <code>MultiBandReader</code>.</li>
</ul>
<h1 id="300a5-2021-11-18">3.0.0a5 (2021-11-18)<a class="headerlink" href="#300a5-2021-11-18" title="Permanent link">&para;</a></h1>
<ul>
<li>allow the definition of <code>geographic_crs</code> used in the <code>geographic_bounds</code> property (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/458" title="GitHub Pull Request: cogeotiff/rio-tiler #458">cogeotiff/rio-tiler!458</a>)</li>
<li>use <code>contextlib.ExitStack</code> to better manager opening/closing rasterio dataset (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/459" title="GitHub Pull Request: cogeotiff/rio-tiler #459">cogeotiff/rio-tiler!459</a>)</li>
<li>moves <code>BBox, ColorTuple, Indexes, NoData, NumType</code> type definitions in <code>rio_tiler.types</code> (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/460" title="GitHub Pull Request: cogeotiff/rio-tiler #460">cogeotiff/rio-tiler!460</a>)</li>
<li>better types definition for ColorMap objects (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/460" title="GitHub Pull Request: cogeotiff/rio-tiler #460">cogeotiff/rio-tiler!460</a>)</li>
<li>fix some types issues (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/460" title="GitHub Pull Request: cogeotiff/rio-tiler #460">cogeotiff/rio-tiler!460</a>)</li>
</ul>
<h1 id="300a4-2021-11-10">3.0.0a4 (2021-11-10)<a class="headerlink" href="#300a4-2021-11-10" title="Permanent link">&para;</a></h1>
<ul>
<li>refactor <code>SpatialMixin.tile_exists</code> to compare the bounds in the dataset's coordinate system to avoid coordinates overflow (a TMS CRS bounds can be smaller than the dataset CRS bounds) (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/455" title="GitHub Pull Request: cogeotiff/rio-tiler #455">cogeotiff/rio-tiler!455</a>)</li>
</ul>
<h1 id="300a3-2021-11-03">3.0.0a3 (2021-11-03)<a class="headerlink" href="#300a3-2021-11-03" title="Permanent link">&para;</a></h1>
<ul>
<li>Reader's <code>info</code> and <code>statistics</code> methods to default to available <code>bands</code> or <code>assets</code> if not provided (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/451" title="GitHub Pull Request: cogeotiff/rio-tiler #451">cogeotiff/rio-tiler!451</a>)</li>
</ul>
<h1 id="300a2-2021-10-21">3.0.0a2 (2021-10-21)<a class="headerlink" href="#300a2-2021-10-21" title="Permanent link">&para;</a></h1>
<ul>
<li>Allow <code>rio_tiler.utils.get_array_statistics</code> to return <code>0</code> for unfound category, instead of raising an error (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/443" title="GitHub Pull Request: cogeotiff/rio-tiler #443">cogeotiff/rio-tiler!443</a>)</li>
</ul>
<h1 id="300a1-2021-10-20">3.0.0a1 (2021-10-20)<a class="headerlink" href="#300a1-2021-10-20" title="Permanent link">&para;</a></h1>
<p><strong>breaking changes</strong></p>
<ul>
<li>
<p>add <code>input</code> in BaseReader class definition to avoid type mismatch (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/450" title="GitHub Pull Request: cogeotiff/rio-tiler #450">cogeotiff/rio-tiler!450</a>)</p>
<p>Note: <code>input</code> replaces <code>filepath</code> attribute in STACReader and COGReader.</p>
</li>
</ul>
<p><strong>removed</strong></p>
<ul>
<li>
<ul>
<li><code>rio_tiler.models.ImageStatistics</code> model</li>
</ul>
</li>
</ul>
<h1 id="300a0-2021-10-19">3.0.0a0 (2021-10-19)<a class="headerlink" href="#300a0-2021-10-19" title="Permanent link">&para;</a></h1>
<ul>
<li>add <code>crs</code> property in <code>rio_tiler.io.base.SpatialMixin</code> (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/429" title="GitHub Pull Request: cogeotiff/rio-tiler #429">cogeotiff/rio-tiler!429</a>)</li>
<li>add <code>geographic_bounds</code> in <code>rio_tiler.io.base.SpatialMixin</code> to return bounds in WGS84 (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/429" title="GitHub Pull Request: cogeotiff/rio-tiler #429">cogeotiff/rio-tiler!429</a>)</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">rio_tiler.io</span><span class="w"> </span><span class="kn">import</span> <span class="n">COGReader</span>

<span class="k">with</span> <span class="n">COGReader</span><span class="p">(</span><span class="s2">&quot;https://rio-tiler-dev.s3.amazonaws.com/data/fixtures/cog.tif&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">cog</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">cog</span><span class="o">.</span><span class="n">bounds</span><span class="p">)</span>
    <span class="o">&gt;&gt;</span> <span class="p">(</span><span class="mf">373185.0</span><span class="p">,</span> <span class="mf">8019284.949381611</span><span class="p">,</span> <span class="mf">639014.9492102272</span><span class="p">,</span> <span class="mf">8286015.0</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="n">cog</span><span class="o">.</span><span class="n">crs</span><span class="p">)</span>
    <span class="o">&gt;&gt;</span> <span class="s2">&quot;EPSG:32621&quot;</span>

    <span class="nb">print</span><span class="p">(</span><span class="n">cog</span><span class="o">.</span><span class="n">geographic_bounds</span><span class="p">)</span>
    <span class="o">&gt;&gt;</span> <span class="p">(</span><span class="o">-</span><span class="mf">61.28762442711404</span><span class="p">,</span> <span class="mf">72.22979795551834</span><span class="p">,</span> <span class="o">-</span><span class="mf">52.301598718454485</span><span class="p">,</span> <span class="mf">74.66298001264106</span><span class="p">)</span>
</code></pre></div>
<ul>
<li>Allow errors to be ignored when trying to find <code>zooms</code> for dataset in <code>rio_tiler.io.COGReader</code>. If we're not able to find the zooms in selected TMS, COGReader will defaults to the min/max zooms of the TMS (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/429" title="GitHub Pull Request: cogeotiff/rio-tiler #429">cogeotiff/rio-tiler!429</a>)</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">pyproj</span><span class="w"> </span><span class="kn">import</span> <span class="n">CRS</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">morecantile</span><span class="w"> </span><span class="kn">import</span> <span class="n">TileMatrixSet</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">rio_tiler.io</span><span class="w"> </span><span class="kn">import</span> <span class="n">COGReader</span>

<span class="c1"># For a non-earth dataset there is no available transformation from its own CRS and the default WebMercator TMS CRS.</span>
<span class="k">with</span> <span class="n">COGReader</span><span class="p">(</span><span class="s2">&quot;https://rio-tiler-dev.s3.amazonaws.com/data/fixtures/cog_nonearth.tif&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">cog</span><span class="p">:</span>
    <span class="o">&gt;&gt;</span> <span class="ne">UserWarning</span><span class="p">:</span> <span class="n">Cannot</span> <span class="n">determine</span> <span class="nb">min</span><span class="o">/</span><span class="nb">max</span> <span class="n">zoom</span> <span class="n">based</span> <span class="n">on</span> <span class="n">dataset</span> <span class="n">information</span><span class="p">,</span> <span class="n">will</span> <span class="n">default</span> <span class="n">to</span> <span class="n">TMS</span> <span class="nb">min</span><span class="o">/</span><span class="nb">max</span> <span class="n">zoom</span><span class="o">.</span>

    <span class="nb">print</span><span class="p">(</span><span class="n">cog</span><span class="o">.</span><span class="n">minzoom</span><span class="p">)</span>
    <span class="o">&gt;&gt;</span> <span class="mi">0</span>

    <span class="nb">print</span><span class="p">(</span><span class="n">cog</span><span class="o">.</span><span class="n">maxzoom</span><span class="p">)</span>
    <span class="o">&gt;&gt;</span> <span class="mi">24</span>

<span class="c1"># if we use a `compatible TMS` then we don&#39;t get warnings</span>
<span class="n">europa_crs</span> <span class="o">=</span> <span class="n">CRS</span><span class="o">.</span><span class="n">from_authority</span><span class="p">(</span><span class="s2">&quot;ESRI&quot;</span><span class="p">,</span> <span class="mi">104915</span><span class="p">)</span>
<span class="n">europa_tms</span> <span class="o">=</span> <span class="n">TileMatrixSet</span><span class="o">.</span><span class="n">custom</span><span class="p">(</span>
    <span class="n">crs</span><span class="o">=</span><span class="n">europa_crs</span><span class="p">,</span>
    <span class="n">extent</span><span class="o">=</span><span class="n">europa_crs</span><span class="o">.</span><span class="n">area_of_use</span><span class="o">.</span><span class="n">bounds</span><span class="p">,</span>
    <span class="n">matrix_scale</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="p">)</span>
<span class="k">with</span> <span class="n">COGReader</span><span class="p">(</span>
    <span class="s2">&quot;https://rio-tiler-dev.s3.amazonaws.com/data/fixtures/cog_nonearth.tif&quot;</span><span class="p">,</span>
    <span class="n">tms</span><span class="o">=</span><span class="n">europa_tms</span><span class="p">,</span>
<span class="p">)</span> <span class="k">as</span> <span class="n">cog</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">cog</span><span class="o">.</span><span class="n">minzoom</span><span class="p">)</span>
    <span class="o">&gt;&gt;</span> <span class="mi">4</span>

    <span class="nb">print</span><span class="p">(</span><span class="n">cog</span><span class="o">.</span><span class="n">maxzoom</span><span class="p">)</span>
    <span class="o">&gt;&gt;</span> <span class="mi">6</span>
</code></pre></div>
<ul>
<li>compare dataset bounds and tile bounds in TMS crs in <code>rio_tiler.io.base.SpatialMixin.tile_exists</code> method to allow dataset and TMS not compatible with WGS84 crs (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/429" title="GitHub Pull Request: cogeotiff/rio-tiler #429">cogeotiff/rio-tiler!429</a>)</li>
<li>use <code>httpx</code> package instead of requests (author @rodrigoalmeida94, <a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/431" title="GitHub Pull Request: cogeotiff/rio-tiler #431">cogeotiff/rio-tiler!431</a>)</li>
<li>allow <strong>half pixel</strong> <code>tile_buffer</code> around the tile (e.g 0.5 -&gt; 257x257, 1.5 -&gt; 259x259) (author @bstadlbauer, <a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/405" title="GitHub Pull Request: cogeotiff/rio-tiler #405">cogeotiff/rio-tiler!405</a>)</li>
<li>add support for <strong>intervals</strong> colormap (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/439" title="GitHub Pull Request: cogeotiff/rio-tiler #439">cogeotiff/rio-tiler!439</a>))</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">rio_tiler.colormap</span><span class="w"> </span><span class="kn">import</span> <span class="n">apply_cmap</span><span class="p">,</span> <span class="n">apply_intervals_cmap</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">256</span><span class="p">,</span> <span class="mi">256</span><span class="p">))</span>
<span class="n">cmap</span> <span class="o">=</span> <span class="p">[</span>
    <span class="c1"># ([min, max], [r, g, b, a])</span>
    <span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]),</span>
    <span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span> <span class="p">[</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">]),</span>
    <span class="p">([</span><span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">],</span> <span class="p">[</span><span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">]),</span>
    <span class="p">([</span><span class="mi">100</span><span class="p">,</span> <span class="mi">256</span><span class="p">],</span> <span class="p">[</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">]),</span>
<span class="p">]</span>

<span class="n">data</span><span class="p">,</span> <span class="n">mask</span> <span class="o">=</span> <span class="n">apply_intervals_cmap</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">cmap</span><span class="p">)</span>
<span class="c1"># or</span>
<span class="n">data</span><span class="p">,</span> <span class="n">mask</span> <span class="o">=</span> <span class="n">apply_cmap</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">cmap</span><span class="p">)</span>
</code></pre></div>
<p><strong>breaking changes</strong></p>
<ul>
<li>update morecantile requirement to version &gt;=3.0 (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/418" title="GitHub Pull Request: cogeotiff/rio-tiler #418">cogeotiff/rio-tiler!418</a>)</li>
<li>remove python 3.6 support (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/418" title="GitHub Pull Request: cogeotiff/rio-tiler #418">cogeotiff/rio-tiler!418</a>)</li>
<li>remove <code>max_size</code> defaults for <code>COGReader.part</code> and <code>COGReader.feature</code>, which will now default to full resolution reading.</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="c1"># before</span>
<span class="k">with</span> <span class="n">COGReader</span><span class="p">(</span><span class="s2">&quot;my.tif&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">cog</span><span class="p">:</span>
    <span class="n">img</span> <span class="o">=</span> <span class="n">cog</span><span class="o">.</span><span class="n">part</span><span class="p">(</span><span class="o">*</span><span class="n">cog</span><span class="o">.</span><span class="n">dataset</span><span class="o">.</span><span class="n">bounds</span><span class="p">,</span> <span class="n">dst_crs</span><span class="o">=</span><span class="n">cog</span><span class="o">.</span><span class="n">dataset</span><span class="o">.</span><span class="n">crs</span><span class="p">,</span> <span class="n">bounds_crs</span><span class="o">=</span><span class="n">cog</span><span class="o">.</span><span class="n">dataset</span><span class="o">.</span><span class="n">crs</span><span class="p">)</span>
    <span class="c1"># by default image should be max 1024x1024</span>
    <span class="k">assert</span> <span class="nb">max</span><span class="p">(</span><span class="n">img</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="mi">1024</span><span class="p">)</span> <span class="c1"># by default image should be max 1024x1024</span>
    <span class="k">assert</span> <span class="nb">max</span><span class="p">(</span><span class="n">img</span><span class="o">.</span><span class="n">height</span><span class="p">,</span> <span class="mi">1024</span><span class="p">)</span>

<span class="c1"># now (there is no more max_size default)</span>
<span class="k">with</span> <span class="n">COGReader</span><span class="p">(</span><span class="s2">&quot;my.tif&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">cog</span><span class="p">:</span>
    <span class="n">img</span> <span class="o">=</span> <span class="n">cog</span><span class="o">.</span><span class="n">part</span><span class="p">(</span><span class="o">*</span><span class="n">cog</span><span class="o">.</span><span class="n">dataset</span><span class="o">.</span><span class="n">bounds</span><span class="p">,</span> <span class="n">dst_crs</span><span class="o">=</span><span class="n">cog</span><span class="o">.</span><span class="n">dataset</span><span class="o">.</span><span class="n">crs</span><span class="p">,</span> <span class="n">bounds_crs</span><span class="o">=</span><span class="n">cog</span><span class="o">.</span><span class="n">dataset</span><span class="o">.</span><span class="n">crs</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">img</span><span class="o">.</span><span class="n">width</span> <span class="o">==</span> <span class="n">cog</span><span class="o">.</span><span class="n">dataset</span><span class="o">.</span><span class="n">width</span>
    <span class="k">assert</span> <span class="n">img</span><span class="o">.</span><span class="n">height</span> <span class="o">==</span> <span class="n">cog</span><span class="o">.</span><span class="n">dataset</span><span class="o">.</span><span class="n">height</span>
</code></pre></div>
<ul>
<li>
<p>add <code>.statistics</code> method in base classes (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/427" title="GitHub Pull Request: cogeotiff/rio-tiler #427">cogeotiff/rio-tiler!427</a>)</p>
</li>
<li>
<p>remove <code>rio_tiler.io.base.SpatialMixin.spatial_info</code> and <code>rio_tiler.io.base.SpatialMixin.center</code> properties (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/429" title="GitHub Pull Request: cogeotiff/rio-tiler #429">cogeotiff/rio-tiler!429</a>)</p>
</li>
<li>
<p>Reader's <code>.bounds</code> property should now be in dataset's CRS, not in <code>WGS84</code> (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/429" title="GitHub Pull Request: cogeotiff/rio-tiler #429">cogeotiff/rio-tiler!429</a>)</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="c1"># before</span>
<span class="k">with</span> <span class="n">COGReader</span><span class="p">(</span><span class="s2">&quot;my.tif&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">cog</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">cog</span><span class="o">.</span><span class="n">bounds</span><span class="p">)</span>
    <span class="o">&gt;&gt;&gt;</span> <span class="p">(</span><span class="o">-</span><span class="mf">61.287001876638215</span><span class="p">,</span> <span class="mf">15.537756794450583</span><span class="p">,</span> <span class="o">-</span><span class="mf">61.27877967704677</span><span class="p">,</span> <span class="mf">15.542486503997608</span><span class="p">)</span>

<span class="c1"># now</span>
<span class="k">with</span> <span class="n">COGReader</span><span class="p">(</span><span class="s2">&quot;my.tif&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">cog</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">cog</span><span class="o">.</span><span class="n">bounds</span><span class="p">)</span>
    <span class="o">&gt;&gt;&gt;</span> <span class="p">(</span><span class="mf">683715.3266400001</span><span class="p">,</span> <span class="mf">1718548.5702</span><span class="p">,</span> <span class="mf">684593.2680000002</span><span class="p">,</span> <span class="mf">1719064.90736</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="n">cog</span><span class="o">.</span><span class="n">crs</span><span class="p">)</span>
    <span class="o">&gt;&gt;&gt;</span> <span class="n">EPSG</span><span class="p">:</span><span class="mi">32620</span>

    <span class="nb">print</span><span class="p">(</span><span class="n">cog</span><span class="o">.</span><span class="n">geographic_bounds</span><span class="p">)</span>
    <span class="o">&gt;&gt;&gt;</span> <span class="p">(</span><span class="o">-</span><span class="mf">61.287001876638215</span><span class="p">,</span> <span class="mf">15.537756794450583</span><span class="p">,</span> <span class="o">-</span><span class="mf">61.27877967704677</span><span class="p">,</span> <span class="mf">15.542486503997608</span><span class="p">)</span>
</code></pre></div>
<ul>
<li>Use <code>RIO_TILER_MAX_THREADS</code> environment variable instead of <code>MAX_THREADS</code> (author @rodrigoalmeida94, <a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/432" title="GitHub Pull Request: cogeotiff/rio-tiler #432">cogeotiff/rio-tiler!432</a>)</li>
<li>remove <code>band_expression</code> in <code>rio_tiler.io.base.MultiBandReader</code> (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/433" title="GitHub Pull Request: cogeotiff/rio-tiler #433">cogeotiff/rio-tiler!433</a>)</li>
<li>change <code>asset_expression</code> input type from <code>str</code> to <code>Dict[str, str]</code> in <code>rio_tiler.io.base.MultiBaseReader</code> (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/434" title="GitHub Pull Request: cogeotiff/rio-tiler #434">cogeotiff/rio-tiler!434</a>)</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="c1"># before</span>
<span class="k">with</span> <span class="n">STACReader</span><span class="p">(</span><span class="s2">&quot;mystac.json&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">stac</span><span class="p">:</span>
    <span class="n">img</span> <span class="o">=</span> <span class="n">stac</span><span class="o">.</span><span class="n">preview</span><span class="p">(</span>
        <span class="n">assets</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;data1&quot;</span><span class="p">,</span> <span class="s2">&quot;data2&quot;</span><span class="p">),</span>
        <span class="n">asset_expression</span><span class="o">=</span><span class="s2">&quot;b1*2&quot;</span><span class="p">,</span>  <span class="c1"># expression was applied to each asset</span>
    <span class="p">)</span>

<span class="c1"># now</span>
<span class="k">with</span> <span class="n">STACReader</span><span class="p">(</span><span class="s2">&quot;mystac.json&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">stac</span><span class="p">:</span>
    <span class="n">img</span> <span class="o">=</span> <span class="n">stac</span><span class="o">.</span><span class="n">preview</span><span class="p">(</span>
        <span class="n">assets</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;data1&quot;</span><span class="p">,</span> <span class="s2">&quot;data2&quot;</span><span class="p">),</span>
        <span class="n">asset_expression</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;data1&quot;</span><span class="p">:</span> <span class="s2">&quot;b1*2&quot;</span><span class="p">,</span> <span class="s2">&quot;data2&quot;</span><span class="p">:</span> <span class="s2">&quot;b2*100&quot;</span><span class="p">},</span>  <span class="c1"># we can now pass per asset expression</span>
    <span class="p">)</span>
</code></pre></div>
<ul>
<li>add <code>asset_indexes</code> in <code>rio_tiler.io.base.MultiBaseReader</code>, which replaces <code>indexes</code>. (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/434" title="GitHub Pull Request: cogeotiff/rio-tiler #434">cogeotiff/rio-tiler!434</a>)</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="c1"># before</span>
<span class="k">with</span> <span class="n">STACReader</span><span class="p">(</span><span class="s2">&quot;mystac.json&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">stac</span><span class="p">:</span>
    <span class="n">img</span> <span class="o">=</span> <span class="n">stac</span><span class="o">.</span><span class="n">preview</span><span class="p">(</span>
        <span class="n">assets</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;data1&quot;</span><span class="p">,</span> <span class="s2">&quot;data2&quot;</span><span class="p">),</span>
        <span class="n">indexes</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,),</span>  <span class="c1"># indexes was applied to each asset</span>
    <span class="p">)</span>

<span class="c1"># now</span>
<span class="k">with</span> <span class="n">STACReader</span><span class="p">(</span><span class="s2">&quot;mystac.json&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">stac</span><span class="p">:</span>
    <span class="n">img</span> <span class="o">=</span> <span class="n">stac</span><span class="o">.</span><span class="n">preview</span><span class="p">(</span>
        <span class="n">assets</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;data1&quot;</span><span class="p">,</span> <span class="s2">&quot;data2&quot;</span><span class="p">),</span>
        <span class="n">asset_indexes</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;data1&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;data2&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span>  <span class="c1"># we can now pass per asset indexes</span>
    <span class="p">)</span>
</code></pre></div>
<p><strong>removed</strong></p>
<ul>
<li><code>rio_tiler.io.BaseReader.metadata</code> and <code>rio_tiler.io.BaseReader.stats</code> base class methods (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/425" title="GitHub Pull Request: cogeotiff/rio-tiler #425">cogeotiff/rio-tiler!425</a>)</li>
<li><code>rio_tiler.reader.stats</code> function (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/440" title="GitHub Pull Request: cogeotiff/rio-tiler #440">cogeotiff/rio-tiler!440</a>)</li>
<li><code>rio_tiler.reader.metadata</code> function (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/440" title="GitHub Pull Request: cogeotiff/rio-tiler #440">cogeotiff/rio-tiler!440</a>)</li>
<li><code>rio_tiler.utils._stats</code> function (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/440" title="GitHub Pull Request: cogeotiff/rio-tiler #440">cogeotiff/rio-tiler!440</a>)</li>
</ul>
<h1 id="213-2021-09-14">2.1.3 (2021-09-14)<a class="headerlink" href="#213-2021-09-14" title="Permanent link">&para;</a></h1>
<ul>
<li>Make sure output data is of type <code>Uint8</code> when applying a colormap (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/423" title="GitHub Pull Request: cogeotiff/rio-tiler #423">cogeotiff/rio-tiler!423</a>)</li>
<li>Do not auto-rescale data if there is a colormap (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/423" title="GitHub Pull Request: cogeotiff/rio-tiler #423">cogeotiff/rio-tiler!423</a>)</li>
</ul>
<h1 id="212-2021-08-10">2.1.2 (2021-08-10)<a class="headerlink" href="#212-2021-08-10" title="Permanent link">&para;</a></h1>
<ul>
<li>update type information for mosaics functions (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/409" title="GitHub Pull Request: cogeotiff/rio-tiler #409">cogeotiff/rio-tiler!409</a>)</li>
</ul>
<h2 id="211-2021-07-29">2.1.1 (2021-07-29)<a class="headerlink" href="#211-2021-07-29" title="Permanent link">&para;</a></h2>
<ul>
<li>add support for setting the S3 endpoint url via the <code>AWS_S3_ENDPOINT</code> environment variables in <code>aws_get_object</code> function using boto3 (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/394" title="GitHub Pull Request: cogeotiff/rio-tiler #394">cogeotiff/rio-tiler!394</a>)</li>
<li>make <code>ImageStatistics.valid_percent</code> a value between 0 and 100 (instead of 0 and 1) (author @param-thakker, <a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/400" title="GitHub Pull Request: cogeotiff/rio-tiler #400">cogeotiff/rio-tiler!400</a>)</li>
<li>
<p>add <code>fetch_options</code> to <code>STACReader</code> to allow custom configuration to the fetch client (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/404" title="GitHub Pull Request: cogeotiff/rio-tiler #404">cogeotiff/rio-tiler!404</a>)</p>
<div class="highlight"><pre><span></span><code><span class="k">with</span> <span class="n">STACReader</span><span class="p">(</span><span class="s2">&quot;s3://...&quot;</span><span class="p">,</span> <span class="n">fetch_options</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;request_pays&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}):</span>
    <span class="k">pass</span>
</code></pre></div>
</li>
<li>
<p>Fix alpha band values when storing <code>Uint16</code> data in <strong>PNG</strong>. (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/407" title="GitHub Pull Request: cogeotiff/rio-tiler #407">cogeotiff/rio-tiler!407</a>)</p>
</li>
</ul>
<h2 id="210-2021-05-17">2.1.0 (2021-05-17)<a class="headerlink" href="#210-2021-05-17" title="Permanent link">&para;</a></h2>
<ul>
<li>add auto-rescaling in <code>ImageData.render</code> method to avoid error when datatype is not supported by the output driver (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/391" title="GitHub Pull Request: cogeotiff/rio-tiler #391">cogeotiff/rio-tiler!391</a>)</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="c1"># before - exit with error</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;img.png&quot;</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">ImageData</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">256</span><span class="p">,</span> <span class="mi">256</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="s2">&quot;float32&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">render</span><span class="p">())</span>
<span class="o">&gt;&gt;&gt;</span> <span class="p">(</span><span class="n">ERROR</span><span class="p">)</span> <span class="n">CPLE_NotSupportedError</span><span class="p">:</span> <span class="s2">&quot;PNG driver doesn&#39;t support data type Float32. Only eight bit (Byte) and sixteen bit (UInt16) bands supported&quot;</span><span class="o">.</span>

<span class="c1"># now - print a warning</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;img.png&quot;</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">ImageData</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">256</span><span class="p">,</span> <span class="mi">256</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="s2">&quot;float32&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">render</span><span class="p">())</span>
<span class="o">&gt;&gt;&gt;</span> <span class="p">(</span><span class="n">WARNING</span><span class="p">)</span> <span class="n">InvalidDatatypeWarning</span><span class="p">:</span> <span class="s2">&quot;Invalid type: `float32` for the `PNG` driver. Data will be rescaled using min/max type bounds&quot;</span><span class="o">.</span>
</code></pre></div>
<p><strong>breaking changes</strong></p>
<ul>
<li>change type of <code>in_range</code> option in <code>ImageData.render</code> to <code>Sequence[Tuple[NumType, NumType]]</code> (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/391" title="GitHub Pull Request: cogeotiff/rio-tiler #391">cogeotiff/rio-tiler!391</a>)</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="n">img</span> <span class="o">=</span> <span class="n">ImageData</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">256</span><span class="p">,</span> <span class="mi">256</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="s2">&quot;uint16&quot;</span><span class="p">))</span>

<span class="c1"># before - Tuple[NumType, NumType]</span>
<span class="n">buff</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">in_range</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">))</span>

<span class="c1"># now - Sequence[Tuple[NumType, NumType]]</span>
<span class="n">buff</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">in_range</span><span class="o">=</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)))</span>
</code></pre></div>
<h2 id="208-2021-04-26">2.0.8 (2021-04-26)<a class="headerlink" href="#208-2021-04-26" title="Permanent link">&para;</a></h2>
<ul>
<li>add warning when dataset doesn't have overviews (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/386" title="GitHub Pull Request: cogeotiff/rio-tiler #386">cogeotiff/rio-tiler!386</a>)</li>
<li>add <code>width</code>, <code>height</code>, <code>count</code> and <code>overviews</code> infos in <code>COGReader.info()</code> (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/387" title="GitHub Pull Request: cogeotiff/rio-tiler #387">cogeotiff/rio-tiler!387</a>)</li>
<li>add <code>driver</code> in <code>COGReader.info()</code> output (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/388" title="GitHub Pull Request: cogeotiff/rio-tiler #388">cogeotiff/rio-tiler!388</a>)</li>
<li>add <code>valid_percent</code> in <code>stats</code> output (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/389" title="GitHub Pull Request: cogeotiff/rio-tiler #389">cogeotiff/rio-tiler!389</a>)</li>
</ul>
<h2 id="207-2021-04-01">2.0.7 (2021-04-01)<a class="headerlink" href="#207-2021-04-01" title="Permanent link">&para;</a></h2>
<ul>
<li>use importlib.resources <code>.files</code> method to resolve the package directory (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/379" title="GitHub Pull Request: cogeotiff/rio-tiler #379">cogeotiff/rio-tiler!379</a>)</li>
</ul>
<h2 id="206-2021-03-25">2.0.6 (2021-03-25)<a class="headerlink" href="#206-2021-03-25" title="Permanent link">&para;</a></h2>
<ul>
<li>add <code>read()</code> method in COGReader (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/366" title="GitHub Pull Request: cogeotiff/rio-tiler #366">cogeotiff/rio-tiler!366</a>)</li>
<li>add <code>tile_buffer</code> option to <code>COGReader.tile()</code> method to add pixels around a tile request (<a class="magiclink magiclink-github magiclink-issue" href="https://github.com/cogeotiff/rio-tiler/issues/365" title="GitHub Issue: cogeotiff/rio-tiler #365">cogeotiff/rio-tiler#365</a>)</li>
<li>use <code>importlib.resources.path</code> to find rio-tiler <code>cmap_data</code> directory (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/370" title="GitHub Pull Request: cogeotiff/rio-tiler #370">cogeotiff/rio-tiler!370</a>)</li>
<li>re-use type definitions (<a class="magiclink magiclink-github magiclink-issue" href="https://github.com/cogeotiff/rio-tiler/issues/337" title="GitHub Issue: cogeotiff/rio-tiler #337">cogeotiff/rio-tiler#337</a>)</li>
</ul>
<h2 id="205-2021-03-17">2.0.5 (2021-03-17)<a class="headerlink" href="#205-2021-03-17" title="Permanent link">&para;</a></h2>
<ul>
<li>make sure <code>py.typed</code> is included in the package (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/363" title="GitHub Pull Request: cogeotiff/rio-tiler #363">cogeotiff/rio-tiler!363</a>)</li>
<li>add <code>jpg</code> alias in <code>img_profiles</code> (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/364" title="GitHub Pull Request: cogeotiff/rio-tiler #364">cogeotiff/rio-tiler!364</a>)</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">rio_tiler.profiles</span><span class="w"> </span><span class="kn">import</span> <span class="n">img_profiles</span>

<span class="n">jpeg</span> <span class="o">=</span> <span class="n">img_profiles</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;jpeg&quot;</span><span class="p">)</span>
<span class="n">jpg</span> <span class="o">=</span> <span class="n">img_profiles</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;jpg&quot;</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">jpeg</span> <span class="o">==</span> <span class="n">jpg</span>
</code></pre></div>
<h2 id="204-2021-03-09">2.0.4 (2021-03-09)<a class="headerlink" href="#204-2021-03-09" title="Permanent link">&para;</a></h2>
<ul>
<li>Added <a href="https://github.com/stac-utils/pystac/blob/master/pystac/media_type.py#L4">pystac.MediaType.COG</a> in supported types by STAC reader</li>
<li>fix bad type definition in <code>rio_tiler.colormap.ColorMaps</code> data (<a class="magiclink magiclink-github magiclink-issue" href="https://github.com/cogeotiff/rio-tiler/issues/359" title="GitHub Issue: cogeotiff/rio-tiler #359">cogeotiff/rio-tiler#359</a>)</li>
<li>add <code>rio_tiler.colormap.parse_color</code> function to parse HEX color (<a class="magiclink magiclink-github magiclink-issue" href="https://github.com/cogeotiff/rio-tiler/issues/361" title="GitHub Issue: cogeotiff/rio-tiler #361">cogeotiff/rio-tiler#361</a>)</li>
</ul>
<h2 id="203-2021-02-19">2.0.3 (2021-02-19)<a class="headerlink" href="#203-2021-02-19" title="Permanent link">&para;</a></h2>
<ul>
<li>Reduce the number of <code>.read()</code> calls for dataset without nodata value (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/355" title="GitHub Pull Request: cogeotiff/rio-tiler #355">cogeotiff/rio-tiler!355</a>)</li>
<li>replace deprecated <code>numpy.float</code> by <code>numpy.float64</code></li>
</ul>
<h2 id="202-2021-02-17">2.0.2 (2021-02-17)<a class="headerlink" href="#202-2021-02-17" title="Permanent link">&para;</a></h2>
<ul>
<li>fix bad mask datatype returned by mosaic methods (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/353" title="GitHub Pull Request: cogeotiff/rio-tiler #353">cogeotiff/rio-tiler!353</a>)</li>
<li>align WarpedVRT with internal blocks when needed. This is to reduce the number of GET requests need for VSI files (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/345" title="GitHub Pull Request: cogeotiff/rio-tiler #345">cogeotiff/rio-tiler!345</a>)</li>
</ul>
<h2 id="201-2021-02-04">2.0.1 (2021-02-04)<a class="headerlink" href="#201-2021-02-04" title="Permanent link">&para;</a></h2>
<ul>
<li>fix arguments names conflicts between mosaic_reader/tasks and STACReader options (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/343" title="GitHub Pull Request: cogeotiff/rio-tiler #343">cogeotiff/rio-tiler!343</a>)</li>
<li>update rio-tiler pypi description.</li>
</ul>
<h2 id="200-2021-01-27">2.0.0 (2021-01-27)<a class="headerlink" href="#200-2021-01-27" title="Permanent link">&para;</a></h2>
<ul>
<li>add MultiPolygon support in <code>rio_tiler.utils.create_cutline</code> (<a class="magiclink magiclink-github magiclink-issue" href="https://github.com/cogeotiff/rio-tiler/issues/323" title="GitHub Issue: cogeotiff/rio-tiler #323">cogeotiff/rio-tiler#323</a>)</li>
<li>support discrete colormap by default in <code>apply_cmap</code> (<a class="magiclink magiclink-github magiclink-issue" href="https://github.com/cogeotiff/rio-tiler/issues/321" title="GitHub Issue: cogeotiff/rio-tiler #321">cogeotiff/rio-tiler#321</a>)</li>
<li>delete deprecated <code>rio_tiler.mercator</code> submodule</li>
<li>added default factory in <code>rio_tiler.colormap.ColorMaps</code>.</li>
<li>fix missing <code>metadata</code> forwarding in <code>ImageData.post_process</code> method.</li>
<li>refactor <code>rio_tiler.io.GCPCOGReader</code> for better inheritance from COGReader.</li>
</ul>
<p><strong>breaking change</strong></p>
<ul>
<li>renamed input parameter <code>tile</code> to <code>data</code> in <code>rio_tiler.utils.render</code>.</li>
<li>renamed input parameter <code>arr</code> to <code>data</code> in <code>rio_tiler.utils.mapzen_elevation_rgb</code></li>
<li>made <code>rio_tiler.io.stac.to_pystac_item</code> private (renamed to <code>_to_pystac_item</code>)</li>
<li>renamed <code>rio_tiler.colormap.DEFAULTS_CMAPS</code> to <code>rio_tiler.colormap.DEFAULT_CMAPS_FILES</code></li>
<li>made <code>rio_tiler.reader._read</code> public (renamed to rio_tiler.reader.read) (ref: <a class="magiclink magiclink-github magiclink-issue" href="https://github.com/cogeotiff/rio-tiler/issues/332" title="GitHub Issue: cogeotiff/rio-tiler #332">cogeotiff/rio-tiler#332</a>)</li>
</ul>
<h2 id="200rc4-2020-12-18">2.0.0rc4 (2020-12-18)<a class="headerlink" href="#200rc4-2020-12-18" title="Permanent link">&para;</a></h2>
<ul>
<li>add <code>NPZ</code> output format (<a class="magiclink magiclink-github magiclink-issue" href="https://github.com/cogeotiff/rio-tiler/issues/308" title="GitHub Issue: cogeotiff/rio-tiler #308">cogeotiff/rio-tiler#308</a>)</li>
<li>add <a href="https://pystac.readthedocs.io/en/latest/">pystac</a> for STAC item reader (author @emmanuelmathot, <a class="magiclink magiclink-github magiclink-issue" href="https://github.com/cogeotiff/rio-tiler/issues/212" title="GitHub Issue: cogeotiff/rio-tiler #212">cogeotiff/rio-tiler#212</a>)</li>
<li>delete deprecated function: <code>rio_tiler.reader.tile</code>, <code>rio_tiler.utils.tile_exits</code> and <code>rio_tiler.utils.geotiff_options</code></li>
<li>deprecated <code>rio_tiler.mercator</code> submodule (<a class="magiclink magiclink-github magiclink-issue" href="https://github.com/cogeotiff/rio-tiler/issues/315" title="GitHub Issue: cogeotiff/rio-tiler #315">cogeotiff/rio-tiler#315</a>)</li>
<li>update morecantile version to 2.1, which has better <code>tms.zoom_for_res</code> definition.</li>
</ul>
<h2 id="200rc3-2020-11-24">2.0.0rc3 (2020-11-24)<a class="headerlink" href="#200rc3-2020-11-24" title="Permanent link">&para;</a></h2>
<ul>
<li>add <code>feature</code> method to reader classes (<a class="magiclink magiclink-github magiclink-issue" href="https://github.com/cogeotiff/rio-tiler/issues/306" title="GitHub Issue: cogeotiff/rio-tiler #306">cogeotiff/rio-tiler#306</a>)</li>
</ul>
<h2 id="200rc2-2020-11-17">2.0.0rc2 (2020-11-17)<a class="headerlink" href="#200rc2-2020-11-17" title="Permanent link">&para;</a></h2>
<ul>
<li>add <code>data</code> validation in <code>rio_tiler.models.ImageData</code> model. Data MUST be a 3 dimensions array in form of (count, height, width).</li>
<li><code>mask</code> is now optional for <code>rio_tiler.models.ImageData</code> model, but will be initialized to a default full valid (<code>255</code>) array.</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">rio_tiler.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">ImageData</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>

<span class="n">img</span> <span class="o">=</span> <span class="n">ImageData</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">img</span><span class="o">.</span><span class="n">mask</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
</code></pre></div>
<ul>
<li>add <code>metadata</code> property to <code>rio_tiler.models.ImageData</code> model</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="n">img</span><span class="o">.</span><span class="n">metadata</span>
<span class="o">&gt;&gt;&gt;</span> <span class="p">{}</span>
</code></pre></div>
<p><strong>breaking change</strong></p>
<ul>
<li><code>rio_tiler.mosaic.reader.mosaic_reader</code> now raises <code>EmptyMosaicError</code> instead of returning an empty <code>ImageData</code></li>
</ul>
<h2 id="200rc1post1-2020-11-12">2.0.0rc1.post1 (2020-11-12)<a class="headerlink" href="#200rc1post1-2020-11-12" title="Permanent link">&para;</a></h2>
<ul>
<li>Remove <code>Uint8</code> data casting before applying <code>color_formula</code> in ImageData.render (<a class="magiclink magiclink-github magiclink-issue" href="https://github.com/cogeotiff/rio-tiler/issues/302" title="GitHub Issue: cogeotiff/rio-tiler #302">cogeotiff/rio-tiler#302</a>)</li>
</ul>
<h2 id="200rc1-2020-11-09">2.0.0rc1 (2020-11-09)<a class="headerlink" href="#200rc1-2020-11-09" title="Permanent link">&para;</a></h2>
<ul>
<li>added <code>ImageData</code> output class for all <code>rio_tiler.io</code> classes returning numpy array-like types (<code>tile, mask = method()</code>)</li>
</ul>
<p><div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">rio_tiler.io</span><span class="w"> </span><span class="kn">import</span> <span class="n">COGReader</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">rio_tiler.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">ImageData</span>

<span class="k">with</span> <span class="n">COGReader</span><span class="p">(</span><span class="s2">&quot;/Users/vincentsarago/S-2_20200422_COG.tif&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">cog</span><span class="p">:</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">cog</span><span class="o">.</span><span class="n">preview</span><span class="p">()</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">ImageData</span><span class="p">)</span>

    <span class="n">data</span><span class="p">,</span> <span class="n">mask</span> <span class="o">=</span> <span class="n">r</span>
    <span class="k">assert</span> <span class="n">data</span><span class="o">.</span><span class="n">shape</span> <span class="o">==</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">892</span><span class="p">,</span> <span class="mi">1024</span><span class="p">)</span>
</code></pre></div>
<strong>Note</strong>: the class keeps the compatibility with previous notation: <code>tile, mask = ImageData</code></p>
<ul>
<li>
<p>add pydantic models for IO outputs (Metadata, Info, ...)</p>
</li>
<li>
<p>change output form for <code>band_metadata</code>, <code>band_descriptions</code> and do not add band description when not found.
<div class="highlight"><pre><span></span><code><span class="c1"># Before</span>
<span class="k">with</span> <span class="n">COGReader</span><span class="p">(</span><span class="s2">&quot;/Users/vincentsarago/S-2_20200422_COG.tif&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">cog</span><span class="p">:</span>
    <span class="n">i</span> <span class="o">=</span> <span class="n">cog</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">[</span><span class="s2">&quot;band_metadata&quot;</span><span class="p">])</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">[</span><span class="s2">&quot;band_descriptions&quot;</span><span class="p">])</span>

<span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="p">{}),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="p">{}),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="p">{})]</span>
<span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;band1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;band2&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;band3&#39;</span><span class="p">)]</span>

<span class="c1"># Now</span>
<span class="k">with</span> <span class="n">COGReader</span><span class="p">(</span><span class="s2">&quot;/Users/vincentsarago/S-2_20200422_COG.tif&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">cog</span><span class="p">:</span>
    <span class="n">i</span> <span class="o">=</span> <span class="n">cog</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="o">.</span><span class="n">band_metadata</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="o">.</span><span class="n">band_descriptions</span><span class="p">)</span>

<span class="p">[(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="p">{}),</span> <span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="p">{}),</span> <span class="p">(</span><span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="p">{})]</span>
<span class="p">[(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)]</span>
</code></pre></div></p>
</li>
<li>
<p>change output form for <code>stats</code>
<div class="highlight"><pre><span></span><code><span class="c1"># Before</span>
<span class="k">with</span> <span class="n">COGReader</span><span class="p">(</span><span class="s2">&quot;/Users/vincentsarago/S-2_20200422_COG.tif&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">cog</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">cog</span><span class="o">.</span><span class="n">stats</span><span class="p">())</span>
<span class="p">{</span>
    <span class="mi">1</span><span class="p">:</span> <span class="p">{</span><span class="o">...</span><span class="p">},</span>
    <span class="mi">2</span><span class="p">:</span> <span class="p">{</span><span class="o">...</span><span class="p">},</span>
    <span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="o">...</span><span class="p">}</span>
<span class="p">}</span>

<span class="c1"># Now</span>
<span class="k">with</span> <span class="n">COGReader</span><span class="p">(</span><span class="s2">&quot;/Users/vincentsarago/S-2_20200422_COG.tif&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">cog</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">cog</span><span class="o">.</span><span class="n">stats</span><span class="p">())</span>
<span class="p">{</span>
    <span class="s2">&quot;1&quot;</span><span class="p">:</span> <span class="p">{</span><span class="o">...</span><span class="p">},</span>
    <span class="s2">&quot;2&quot;</span><span class="p">:</span> <span class="p">{</span><span class="o">...</span><span class="p">},</span>
    <span class="s2">&quot;3&quot;</span><span class="p">:</span> <span class="p">{</span><span class="o">...</span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div></p>
</li>
<li>
<p>updated <code>rio_tiler.utils._stats</code> function to replace <code>pc</code> by <code>percentiles</code></p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="k">with</span> <span class="n">COGReader</span><span class="p">(</span><span class="s2">&quot;/Users/vincentsarago/S-2_20200422_COG.tif&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">cog</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">cog</span><span class="o">.</span><span class="n">stats</span><span class="p">()[</span><span class="s2">&quot;1&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
<span class="p">{</span><span class="s2">&quot;percentiles&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">19.0</span><span class="p">,</span> <span class="mf">168.0</span><span class="p">],</span> <span class="s2">&quot;min&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;max&quot;</span><span class="p">:</span> <span class="mf">255.0</span><span class="p">,</span> <span class="o">...</span><span class="p">}</span>
</code></pre></div>
<ul>
<li>make <code>rio_tiler.colormap.ColorMap</code> object immutable. Registering a new colormap will new returns a now instance of ColorMap(<a class="magiclink magiclink-github magiclink-issue" href="https://github.com/cogeotiff/rio-tiler/issues/289" title="GitHub Issue: cogeotiff/rio-tiler #289">cogeotiff/rio-tiler#289</a>).</li>
<li>changed the <code>rio_tiler.colormap.ColorMap.register()</code> method to take a dictionary as input (instead of name + dict).</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">rio_tiler.colormap</span><span class="w"> </span><span class="kn">import</span> <span class="n">cmap</span> <span class="c1"># default cmap</span>

<span class="c1"># previous</span>
<span class="n">cmap</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="s2">&quot;acmap&quot;</span><span class="p">,</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="o">...</span><span class="p">})</span>

<span class="c1"># Now</span>
<span class="n">cmap</span> <span class="o">=</span> <span class="n">cmap</span><span class="o">.</span><span class="n">register</span><span class="p">({</span><span class="s2">&quot;acmap&quot;</span><span class="p">:</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="o">...</span><span class="p">}})</span>
</code></pre></div>
<ul>
<li>
<p>added the possibility to automatically register colormaps stored as <code>.npy</code> file in a directory, if <code>COLORMAP_DIRECTORY</code> environment variable is set with the name of the directory.</p>
</li>
<li>
<p>Update to morecantile 2.0.0</p>
</li>
</ul>
<h2 id="200b19-2020-10-26">2.0.0b19 (2020-10-26)<a class="headerlink" href="#200b19-2020-10-26" title="Permanent link">&para;</a></h2>
<ul>
<li>surface <code>allowed_exceptions</code> options in <code>rio_tiler.mosaic.reader.mosaic_reader</code> (<a class="magiclink magiclink-github magiclink-issue" href="https://github.com/cogeotiff/rio-tiler/issues/293" title="GitHub Issue: cogeotiff/rio-tiler #293">cogeotiff/rio-tiler#293</a>)</li>
<li>add SpatialInfoMixin base class to reduce code duplication (co-author with @geospatial-jeff, <a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/295" title="GitHub Pull Request: cogeotiff/rio-tiler #295">cogeotiff/rio-tiler!295</a>)</li>
<li>add <code>AsyncBaseReader</code> to support async readers (author @geospatial-jeff, <a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/265" title="GitHub Pull Request: cogeotiff/rio-tiler #265">cogeotiff/rio-tiler!265</a>)</li>
</ul>
<h2 id="200b18-2020-10-22">2.0.0b18 (2020-10-22)<a class="headerlink" href="#200b18-2020-10-22" title="Permanent link">&para;</a></h2>
<ul>
<li>surface dataset.nodata in COGReader.nodata property (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/292" title="GitHub Pull Request: cogeotiff/rio-tiler #292">cogeotiff/rio-tiler!292</a>)</li>
<li>fix non-threaded tasks scheduler/filter (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/291" title="GitHub Pull Request: cogeotiff/rio-tiler #291">cogeotiff/rio-tiler!291</a>)</li>
</ul>
<h2 id="200b17-2020-10-13">2.0.0b17 (2020-10-13)<a class="headerlink" href="#200b17-2020-10-13" title="Permanent link">&para;</a></h2>
<ul>
<li>switch to morecantile for TMS definition (ref: <a class="magiclink magiclink-github magiclink-issue" href="https://github.com/cogeotiff/rio-tiler/issues/283" title="GitHub Issue: cogeotiff/rio-tiler #283">cogeotiff/rio-tiler#283</a>)</li>
<li>add tms options in Readers (breaking change if you create custom Reader from BaseReader)</li>
<li>add tile_bounds vs bounds check in tile methods for MultiBands and MultiBase classes</li>
<li>add tile_exists method in BaseReader (take tms in account)</li>
<li>adapt zooms calculation in COGReader</li>
<li>add <code>LastBandHigh</code> and <code>LastBandLow</code> pixel selection (ref: <a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/270" title="GitHub Pull Request: cogeotiff/rio-tiler #270">cogeotiff/rio-tiler!270</a>)</li>
</ul>
<p>Deprecated function</p>
<ul>
<li>rio_tiler.reader.tile</li>
<li>rio_tiler.utils.geotiff_options</li>
<li>rio_tiler.utils.tile_exists</li>
<li>rio_tiler.io.multi_*</li>
</ul>
<h2 id="200b16-2020-10-07">2.0.0b16 (2020-10-07)<a class="headerlink" href="#200b16-2020-10-07" title="Permanent link">&para;</a></h2>
<ul>
<li>remove <code>pkg_resources</code> (<a class="magiclink magiclink-github magiclink-issue" href="https://github.com/pypa/setuptools/issues/510" title="GitHub Issue: pypa/setuptools #510">pypa/setuptools#510</a>)</li>
<li>refactor default colormap lookup to use pathlib instead of pkg_resources.</li>
</ul>
<p>Note: We changed the versioning scheme to <code>{major}.{minor}.{path}{pre}{prenum}</code></p>
<h2 id="20b15-2020-10-05">2.0b15 (2020-10-05)<a class="headerlink" href="#20b15-2020-10-05" title="Permanent link">&para;</a></h2>
<ul>
<li>Fix missing Exception catching when running task outside threads (ref: <a class="magiclink magiclink-github magiclink-issue" href="https://github.com/developmentseed/titiler/issues/130" title="GitHub Issue: developmentseed/titiler #130">developmentseed/titiler#130</a>).</li>
<li>add rio-tiler logger (<a class="magiclink magiclink-github magiclink-issue" href="https://github.com/cogeotiff/rio-tiler/issues/277" title="GitHub Issue: cogeotiff/rio-tiler #277">cogeotiff/rio-tiler#277</a>).</li>
</ul>
<h2 id="20b14post2-2020-10-02">2.0b14.post2 (2020-10-02)<a class="headerlink" href="#20b14post2-2020-10-02" title="Permanent link">&para;</a></h2>
<ul>
<li>Fix bug in <code>MultiBandReader</code> (ref: <a class="magiclink magiclink-github magiclink-issue" href="https://github.com/cogeotiff/rio-tiler/issues/275" title="GitHub Issue: cogeotiff/rio-tiler #275">cogeotiff/rio-tiler#275</a>) and add tests.</li>
</ul>
<h2 id="20b14post1-2020-10-02">2.0b14.post1 (2020-10-02)<a class="headerlink" href="#20b14post1-2020-10-02" title="Permanent link">&para;</a></h2>
<ul>
<li>add <code>MultiBandReader</code> and <code>GCPCOGReader</code> in <code>rio_tiler.io</code> init.</li>
</ul>
<h2 id="20b14-2020-10-02">2.0b14 (2020-10-02)<a class="headerlink" href="#20b14-2020-10-02" title="Permanent link">&para;</a></h2>
<ul>
<li>Added back the Conctext Manager methods in <code>rio_tiler.io.base.BaseReader</code> but not as <code>@abc.abstractmethod</code> (ref: <a href="https://github.com/cogeotiff/rio-tiler/pull/273#discussion_r498937943">github.com/cogeotiff/rio-tiler/pull/273#discussion_r498937943</a>)</li>
<li>Move <code>rio_tiler_pds.reader.MultiBandReader</code> and <code>rio_tiler_pds.reader.GCPCOGReader</code> to rio-tiler (<a class="magiclink magiclink-github magiclink-pull" href="https://github.com/cogeotiff/rio-tiler/pull/273" title="GitHub Pull Request: cogeotiff/rio-tiler #273">cogeotiff/rio-tiler!273</a>)</li>
</ul>
<h2 id="20b13-2020-10-01">2.0b13 (2020-10-01)<a class="headerlink" href="#20b13-2020-10-01" title="Permanent link">&para;</a></h2>
<ul>
<li>remove ContextManager requirement for <code>rio_tiler.io.base.BaseReader</code> and <code>rio_tiler.io.base.MultiBaseReader</code> base classes.</li>
<li>move ContextManager properties definition to <code>__attrs_post_init__</code> method in <code>rio_tiler.io.STACReader</code> and <code>rio_tiler.io.COGReader</code> (ref: <a class="magiclink magiclink-github magiclink-issue" href="https://github.com/cogeotiff/rio-tiler-pds/issues/21" title="GitHub Issue: cogeotiff/rio-tiler-pds #21">cogeotiff/rio-tiler-pds#21</a>)</li>
</ul>
<h2 id="20b12-2020-09-28">2.0b12 (2020-09-28)<a class="headerlink" href="#20b12-2020-09-28" title="Permanent link">&para;</a></h2>
<ul>
<li>Make sure Alpha band isn't considered as an internal mask by <code>utils.has_mask_band</code></li>
</ul>
<h2 id="20b11-2020-09-24">2.0b11 (2020-09-24)<a class="headerlink" href="#20b11-2020-09-24" title="Permanent link">&para;</a></h2>
<ul>
<li>reduce verbosity in <code>rio_tiler.tasks.filter_tasks</code> exception logging (#266).</li>
</ul>
<h2 id="20b10-2020-09-15">2.0b10 (2020-09-15)<a class="headerlink" href="#20b10-2020-09-15" title="Permanent link">&para;</a></h2>
<ul>
<li>add <code>post_process</code> callback to <code>rio_tiler.render._read</code> and <code>rio_tiler.render.point</code> to apply
specific operation ouput arrays.</li>
</ul>
<h2 id="20b9-2020-09-09">2.0b9 (2020-09-09)<a class="headerlink" href="#20b9-2020-09-09" title="Permanent link">&para;</a></h2>
<ul>
<li>restore Mkdocs search bar (#255)</li>
<li>Allow class (not just instance) to be passed to pixel_selection (#250)</li>
<li>Add Binder link/badge to README (#254)</li>
<li>Add mkdocs-jupyter to show notebooks in website (#253)</li>
<li>Remove deprecated functions (#247)</li>
<li>Export modules from top-level package (#246)</li>
<li>Allow overwriting colormap with force=True (#249)</li>
<li>Pin black version (#251)</li>
<li>Add contributing.md (#242)</li>
<li>Add mkdocs config (#240)</li>
<li>Add <code>NPY</code> support in <code>rio_tiler.utils.render</code> to save tile in numpy binary format (#256)</li>
<li>Remove bare <code>Exception</code> and add more detailed errors (#248)</li>
</ul>
<h2 id="20b8-2020-08-24">2.0b8 (2020-08-24)<a class="headerlink" href="#20b8-2020-08-24" title="Permanent link">&para;</a></h2>
<ul>
<li>raise specific <code>PointOutsideBounds</code> in rio_tiler.reader.point (#236)</li>
</ul>
<h2 id="20b7-2020-08-21">2.0b7 (2020-08-21)<a class="headerlink" href="#20b7-2020-08-21" title="Permanent link">&para;</a></h2>
<ul>
<li>allow setting default kwargs in COGReader <strong>init</strong> (#227)</li>
<li>allow <code>vrt_options</code> in COGReader.point</li>
<li>add <code>rio_tiler.io.base.MultiBaseReader</code> class (#225)</li>
<li>refactor <code>rio_tiler.io.stac.STACReader</code> to use MultiBaseReader (#225)</li>
<li>add <code>rio_tiler.task</code> submodule to share tools for handling rio-tiler's future tasks.</li>
<li>fix regex parsing for rio-tiler expression</li>
<li>add warnings when assets/indexes is passed with expression option (#233)</li>
</ul>
<p>Breaking Changes:
- replace dataclass wiht attr to support more flexible class definition (see #225)</p>
<h2 id="20b6-2020-08-04">2.0b6 (2020-08-04)<a class="headerlink" href="#20b6-2020-08-04" title="Permanent link">&para;</a></h2>
<ul>
<li>add <code>utils.create_cutline</code> helper (#218)</li>
<li>remove any mutable default argument</li>
</ul>
<p><strong>depreciation</strong>
- <code>warp_vrt_option</code> is replaced by <code>vrt_options</code> in rio_tiler.reader.part (#221)</p>
<h2 id="20b5-2020-07-31">2.0b5 (2020-07-31)<a class="headerlink" href="#20b5-2020-07-31" title="Permanent link">&para;</a></h2>
<ul>
<li>add more verbosity to mosaic error (#214)</li>
</ul>
<p>Breaking Changes:
- <code>rio_tiler.mosaic.reader.mosaic_reader</code> return <code>((tile, mask), assets_used)</code>
- <code>COGReader.info</code> is now a method instead of a property to align with other reader (#211)</p>
<h2 id="20b4-2020-07-30">2.0b4 (2020-07-30)<a class="headerlink" href="#20b4-2020-07-30" title="Permanent link">&para;</a></h2>
<ul>
<li>add rio_tiler.io.base.BaseReader abstract class for COGReader and STACReader to inherit from</li>
<li>STACReader raises <code>InvalidAssetName</code> for invalid asset name or <code>MissingAssets</code> when no assets is passed (#208)</li>
<li>update rio_tiler.mosaic.reader.mosaic_reader to not use threadPool if threads &lt;= 1 (#207)</li>
</ul>
<p>Breaking Changes:
- Reader.spatial_info is a property (#203)
- assets is a keyword argument in STACReader stats/info/metadata</p>
<h2 id="20b3-2020-07-27">2.0b3 (2020-07-27)<a class="headerlink" href="#20b3-2020-07-27" title="Permanent link">&para;</a></h2>
<ul>
<li>add <code>rio_tiler.mosaic</code> submodule (ref: <a class="magiclink magiclink-github magiclink-issue" href="https://github.com/cogeotiff/rio-tiler-mosaic/issues/16" title="GitHub Issue: cogeotiff/rio-tiler-mosaic #16">cogeotiff/rio-tiler-mosaic#16</a>)</li>
</ul>
<h2 id="20b2-2020-07-23">2.0b2 (2020-07-23)<a class="headerlink" href="#20b2-2020-07-23" title="Permanent link">&para;</a></h2>
<ul>
<li>add boto3 in the dependency (#201)</li>
</ul>
<h2 id="20b1-2020-07-22">2.0b1 (2020-07-22)<a class="headerlink" href="#20b1-2020-07-22" title="Permanent link">&para;</a></h2>
<ul>
<li>switch to ContextManager for COG and STAC (rio_cogeo.io.COGReader, rio_cogeo.io.STACReader).</li>
<li>COGReader.part and STACReader.part return data in BBOX CRS by default.</li>
<li>STACReader now accept URL (https, s3).</li>
<li>add more method for STAC (prewiew/point/part/info/stats).</li>
<li>add expression for COG/STAC preview/point/part.</li>
<li>add <code>masked</code> option in <code>rio_tiler.reader.point</code> to control weither or not it should return None or a value.</li>
<li>remove mission specific tilers (#195).</li>
<li>remove <code>rio_tiler.reader.multi_*</code> functions (replaced by rio_tiler.io.cogeo.multi_*).</li>
<li>remove <code>rio_tiler.utils.expression</code> (replaced by expression options in tilers).</li>
</ul>
<h2 id="20a11-2020-05-29">2.0a11 (2020-05-29)<a class="headerlink" href="#20a11-2020-05-29" title="Permanent link">&para;</a></h2>
<ul>
<li>refactor <code>rio_tiler.utils.tile_exists</code> to allow raster bounds latitude == -90,90</li>
</ul>
<h2 id="20a10-2020-05-29">2.0a10 (2020-05-29)<a class="headerlink" href="#20a10-2020-05-29" title="Permanent link">&para;</a></h2>
<ul>
<li>Change default resampling to nearest for <code>_read</code> (#187)</li>
<li>add <code>rio_tiler.reader.stats</code> (return only array statistics)</li>
<li>remove default <code>dst_crs</code> in <code>rio_tiler.reader.part</code> to to fallback to dataset CRS.</li>
</ul>
<h2 id="20a9-2020-05-27">2.0a9 (2020-05-27)<a class="headerlink" href="#20a9-2020-05-27" title="Permanent link">&para;</a></h2>
<ul>
<li>Refactor colormap and add method to register custom colormap</li>
</ul>
<h2 id="20a8-2020-05-25">2.0a8 (2020-05-25)<a class="headerlink" href="#20a8-2020-05-25" title="Permanent link">&para;</a></h2>
<ul>
<li>add <code>preview</code> method to <code>rio_tiler.io.cogeo</code></li>
</ul>
<h2 id="20a7-2020-05-17">2.0a7 (2020-05-17)<a class="headerlink" href="#20a7-2020-05-17" title="Permanent link">&para;</a></h2>
<ul>
<li>allow reading high resolution part of a raster (by making height, width args optional)</li>
<li>add <code>max_size</code> option in <code>rio_tiler.reader.part</code> to set a maximum output size when height and width are not set</li>
<li>add point and area function in rio_tiler.io.cogeo</li>
<li>fix width-height height-widht bug in <code>rio_tiler.reader.part</code></li>
</ul>
<p><strong>depreciation</strong>
- deprecated <code>out_window</code> option in favor of <code>window</code> in rio_tiler.reader._read</p>
<h2 id="20a6-2020-05-06">2.0a6 (2020-05-06)<a class="headerlink" href="#20a6-2020-05-06" title="Permanent link">&para;</a></h2>
<ul>
<li>fix unwanted breacking change with <code>img_profiles.get</code> not allowing default values</li>
</ul>
<h2 id="20a5-2020-05-06">2.0a5 (2020-05-06)<a class="headerlink" href="#20a5-2020-05-06" title="Permanent link">&para;</a></h2>
<ul>
<li>make <code>rio_tiler.io.landsat8.tile</code> return Uint16 data and not float32 (#173)</li>
<li><code>rio_tiler.profiles.img_profiles</code> item access return <code>copy</code> of the items (#177)</li>
<li>better colormap docs (#176, author @kylebarron)</li>
</ul>
<h2 id="20a4-2020-04-08">2.0a4 (2020-04-08)<a class="headerlink" href="#20a4-2020-04-08" title="Permanent link">&para;</a></h2>
<ul>
<li>add <code>rio_tiler.io.cogeo.info</code> to retrieve simple file metadata (no image statistics)</li>
<li>add band metadata tag info in <code>rio_tiler.render.metadata</code> output</li>
<li>add <code>rio_tiler.io.stac</code> STAC compliant rio_tiler.colormap.apply_discrete_cmap</li>
</ul>
<h2 id="20a3-2020-03-25">2.0a3 (2020-03-25)<a class="headerlink" href="#20a3-2020-03-25" title="Permanent link">&para;</a></h2>
<ul>
<li>only use <code>transform_bounds</code> when needed in rio_tiler.reader.part</li>
</ul>
<p>Breaking Changes:
- switch back to gdal/rasterio calculate_default_transform (#164). Thanks to Terracotta core developper @dionhaefner.
- refactor <code>rio_tiler.utils.get_vrt_transform</code> to get width and height input.</p>
<h2 id="20a2-2020-03-20">2.0a2 (2020-03-20)<a class="headerlink" href="#20a2-2020-03-20" title="Permanent link">&para;</a></h2>
<ul>
<li>Fall back to gdal/rasterio calculate_default_transform for dateline separation crossing dataset (ref #164)</li>
</ul>
<h2 id="20a1-2020-03-19">2.0a1 (2020-03-19)<a class="headerlink" href="#20a1-2020-03-19" title="Permanent link">&para;</a></h2>
<ul>
<li>added <code>reader.preview</code>, <code>reader.point</code> methods</li>
<li>added multi_* functions to rio_tiler.reader to support multiple assets addresses</li>
<li>added <code>rio_tiler.utils.has_mask_band</code> function</li>
<li>added <code>rio_tiler.utils.get_overview_level</code> to calculate the overview level needed for partial reading.</li>
<li>added type hints</li>
<li>added scale, offsets, colormap, datatype and colorinterp in reader.metadata output (#158)</li>
<li>new <code>rio_tiler.colormap</code> submodule</li>
<li>added <code>unscale</code> options to rio_tiler.reader._read function apply internal scale/offset (#157)</li>
</ul>
<p>Breaking Changes:
- removed python 2 support
- new package architecture (.io submodule)
- introduced new rio_tiler.reader functions (part, preview, metadata...)
- renamed rio_tiler.main to rio_tiler.io.cogeo
- bucket and prefixes are defined in rio_tiler.io.dataset.<code>{dataset}_parse</code> function from
  AWS supported Public Dataset
- renamed <code>minimum_tile_cover</code> to <code>minimum_overlap</code>
- renamed <code>tile_edge_padding</code> to <code>padding</code>
- padding is set to 0 by default.
- use terracotta calculate_default_transform (see <a href="https://github.com/cogeotiff/rio-tiler/issues/56#issuecomment-442484999">github.com/cogeotiff/rio-tiler/issues/56#issuecomment-442484999</a>)
- colormaps are now have an alpha value
- <code>rio_tiler.utils.get_colormap</code> replaced by <code>rio_tiler.colormap.get_colormap</code>
- new <code>rio_tiler.colormap.get_colormap</code> supports only GDAL like colormap
- replaced <code>rio_tiler.utils.array_to_image</code> by <code>rio_tiler.utils.render</code>
- replaced <code>rio_tiler.utils.apply_cmap</code> by <code>rio_tiler.colormap.apply_cmap</code>
- replaced <code>rio_tiler.utils._apply_discrete_colormap</code> by <code>rio_tiler.colormap.apply_discrete_cmap</code>
- removed <code>histogram_bins</code> and <code>histogram_range</code> in options in metadata reader.
  Should now be passed in <code>hist_options</code> (e.g: hist_options={bins=10, range=(0, 10)})
- remove alpha band value from output data array in tile/preview/metadata #127</p>
<h2 id="140-2020-02-19">1.4.0 (2020-02-19)<a class="headerlink" href="#140-2020-02-19" title="Permanent link">&para;</a></h2>
<ul>
<li>Add Sentinel2-L2A support (#137)</li>
<li>Update Sentinel-2 sceneid schema (S2A_tile_20170323_07SNC_0 -&gt; S2A_L1C_20170323_07SNC_0)</li>
</ul>
<h2 id="131-2019-11-06">1.3.1 (2019-11-06)<a class="headerlink" href="#131-2019-11-06" title="Permanent link">&para;</a></h2>
<ul>
<li>Add <code>warp_vrt_option</code> option for <code>utils.raster_get_stats</code> and <code>utils.tile_read</code> to
allow more custom VRT Warping. (ref: <a href="https://github.com/OSGeo/gdal/issues/1989#issue-518526399">github.com/OSGeo/gdal/issues/1989#issue-518526399</a>)</li>
<li>Add <code>rio_tiler.utils.non_alpha_indexes</code> to find non-alpha band indexes (ref #127)</li>
</ul>
<h2 id="130-2019-10-07">1.3.0 (2019-10-07)<a class="headerlink" href="#130-2019-10-07" title="Permanent link">&para;</a></h2>
<ul>
<li>Allow <code>DatasetReader</code>, <code>DatasetWriter</code>, <code>WarpedVRT</code> input for <code>utils.raster_get_stats</code> and <code>utils.tile_read</code></li>
<li>add <code>minimum_tile_cover</code> option to filter dataset not covering a certain amount of the tile.</li>
<li>add Sentinel-1 submodule</li>
</ul>
<p>Breaking Changes:
- need rasterio&gt;=1.1</p>
<h2 id="1211-2019-09-18">1.2.11 (2019-09-18)<a class="headerlink" href="#1211-2019-09-18" title="Permanent link">&para;</a></h2>
<ul>
<li>reduce memory footprint of expression tiler</li>
<li>fix wrong calculation for overview size in <code>raster_get_stats</code> (#116)</li>
<li>Add Landsat 8 QA Band (#117).</li>
</ul>
<h2 id="1210-2019-07-18">1.2.10 (2019-07-18)<a class="headerlink" href="#1210-2019-07-18" title="Permanent link">&para;</a></h2>
<ul>
<li>add more colormap options (from matplotlib) and switch from txt files to numpy binaries (#115)</li>
</ul>
<h2 id="129-2019-07-11">1.2.9 (2019-07-11)<a class="headerlink" href="#129-2019-07-11" title="Permanent link">&para;</a></h2>
<ul>
<li>fix issue #113, adds depreciation warning for <code>bounds_crs</code> in favor of <code>dst_crs</code>
in <code>rio_tiler.utils.get_vrt_transform</code></li>
</ul>
<h2 id="128-2019-07-08">1.2.8 (2019-07-08)<a class="headerlink" href="#128-2019-07-08" title="Permanent link">&para;</a></h2>
<ul>
<li>Add kwargs options in landsat8.tile, sentinel2.tile and cbers.tile functions to
allow <code>resampling_method</code> and <code>tile_edge_padding</code> options forwarding to utils._tile_read.</li>
<li>Add Input (bounds_crs) and Output (dst_crs) option to <code>utils._tile_read</code> function (#108)</li>
</ul>
<h2 id="127-2019-05-14">1.2.7 (2019-05-14)<a class="headerlink" href="#127-2019-05-14" title="Permanent link">&para;</a></h2>
<ul>
<li>Revert changes introduced in #106 (see #105)</li>
<li>Refactor tests</li>
</ul>
<h2 id="126-2019-05-10-deleted">1.2.6 (2019-05-10) - DELETED<a class="headerlink" href="#126-2019-05-10-deleted" title="Permanent link">&para;</a></h2>
<ul>
<li>Use same resampling method for mask and for data (#105)</li>
</ul>
<h2 id="125-2019-05-08">1.2.5 (2019-05-08)<a class="headerlink" href="#125-2019-05-08" title="Permanent link">&para;</a></h2>
<ul>
<li>add tile_edge_padding option to be passed to rio_tiler.utils._tile_read to reduce sharp edges that occur due to resampling (#104)</li>
</ul>
<h2 id="124-2019-04-16">1.2.4 (2019-04-16)<a class="headerlink" href="#124-2019-04-16" title="Permanent link">&para;</a></h2>
<ul>
<li>add histogram_range options to be passed to rio_tiler.{module}.metadata function (#102)</li>
</ul>
<h2 id="123-2019-04-04">1.2.3 (2019-04-04)<a class="headerlink" href="#123-2019-04-04" title="Permanent link">&para;</a></h2>
<ul>
<li>add histogram_bins options to be passed to rio_tiler.{module}.metadata function (#98)</li>
</ul>
<p>Bug fixes:
- return index number with band descriptions (#99)</p>
<h2 id="122-2019-04-03">1.2.2 (2019-04-03)<a class="headerlink" href="#122-2019-04-03" title="Permanent link">&para;</a></h2>
<ul>
<li>add mercator min/max zoom info in metadata output from rio_tiler.utils.raster_get_stats (#96)</li>
<li>add band description (band name) in metadata output from rio_tiler.utils.raster_get_stats (#96)</li>
</ul>
<h2 id="121-2019-03-26">1.2.1 (2019-03-26)<a class="headerlink" href="#121-2019-03-26" title="Permanent link">&para;</a></h2>
<ul>
<li>Replace rio-pansharpen dependency with a fork of the brovey function directly
into <code>rio_tiler.utils</code> (rio-pansharpen is unmaintened and not compatible with
rasterio&gt;=1) (#94).</li>
</ul>
<h2 id="120-2019-03-26">1.2.0 (2019-03-26)<a class="headerlink" href="#120-2019-03-26" title="Permanent link">&para;</a></h2>
<ul>
<li><code>rio_tiler.utils.array_to_image</code>'s color_map arg can be a dictionary of discrete values (#91)</li>
</ul>
<p>Breaking Changes:
- <code>expr</code> argument is now a required option in <code>rio_tiler.utils.expression</code>. (#88)</p>
<h2 id="114-2019-03-11">1.1.4 (2019-03-11)<a class="headerlink" href="#114-2019-03-11" title="Permanent link">&para;</a></h2>
<ul>
<li>Add 'rplumbo' colormap (#90 by @DanSchoppe)</li>
</ul>
<h2 id="113-2019-03-06">1.1.3 (2019-03-06)<a class="headerlink" href="#113-2019-03-06" title="Permanent link">&para;</a></h2>
<p>Bug fixes:
- Fix casting to integer for MAX_THREADS environment variable.</p>
<h2 id="111-2019-02-21">1.1.1 (2019-02-21)<a class="headerlink" href="#111-2019-02-21" title="Permanent link">&para;</a></h2>
<ul>
<li>Minor typo correction and harmonization of the use of src/src_dst/src_path in <code>rio_tiler.utils</code></li>
</ul>
<p>Bug fixes:
- Fix nodata handling in <code>utils.raster_get_stats</code></p>
<h2 id="110-2019-02-15">1.1.0 (2019-02-15)<a class="headerlink" href="#110-2019-02-15" title="Permanent link">&para;</a></h2>
<ul>
<li>Allow options forwarding to <code>tile_read</code> from <code>main.tile</code> function (#86)</li>
<li>Add <code>resampling_method</code> options in <code>rio_tiler.utils.tile_read</code> to allow user set
resampling. Default is now bilinear (#85)</li>
</ul>
<p>Bug fixes:
- Fix nodata option forwarding to tile_read when source is a path (#83)</p>
<p>Refactoring:
- Refactor <code>rio_tiler.utils.tile_read</code> to reduce code complexity (#84)</p>
<p>Breaking Changes:
- <code>indexes</code> options is now set to <strong>None</strong> in <code>rio_tiler.utils.tile_read</code>.
Default will now be the dataset indexes.</p>
<h2 id="101-2019-02-14">1.0.1 (2019-02-14)<a class="headerlink" href="#101-2019-02-14" title="Permanent link">&para;</a></h2>
<ul>
<li>Fix mask datatype bug in <code>rio_tiler.utils.array_to_image</code>(#79)</li>
<li>Fix nodata handling and better test for the nodata/mask main module (#81)</li>
</ul>
<h2 id="100-2019-02-11">1.0.0 (2019-02-11)<a class="headerlink" href="#100-2019-02-11" title="Permanent link">&para;</a></h2>
<ul>
<li>add missing Landsat panchromatic band (08) min/max fetch in <code>rio_tiler.landsat8.metadata</code> (#58)</li>
<li>add pre-commit for commit validation (#64)</li>
<li>code formatting using Black (the uncompromising Python code formatter) (#64)</li>
<li>update documentation (Sentinel-2 cost) (#68)</li>
<li>add <code>utils.raster_get_stats</code> and <code>utils._get_stats</code> to replace <code>min_max*</code> function
and to return more statistics (#66)</li>
<li>add overview level selection to statistical functions to reduce the data download (#59)</li>
<li>add pure GDAL <code>array_to_image</code> function to replace PIL tools (#29)</li>
<li>add GDAL format output from <code>utils.get_colormap</code> to be used in <code>array_to_image</code> (#29)</li>
<li>add GDAL compatible Image creation profile (#29)</li>
<li>add max threads number settings via "MAX_THREADS" environment variable (#71)</li>
</ul>
<p>Breaking Changes:
- update <code>metadata</code> structure returned by <code>landsat8.metadata</code>, <code>sentinel2.metadata</code>, <code>cbers.metadata</code>
- force sentinel, landsat and cbers band names to be string and add validation (#65)
- moved landsat utility functions from <code>rio_tiler.utils</code> to <code>rio_tiler.landsat8</code>
  - rio_tiler.utils.landsat_get_mtl -&gt; rio_tiler.landsat8._landsat_get_mtl
  - rio_tiler.utils.landsat_parse_scene_id -&gt; rio_tiler.landsat8._landsat_parse_scene_id
  - rio_tiler.utils.landsat_get_stats -&gt; rio_tiler.landsat8._landsat_stats
- moved cbers utility functions from <code>rio_tiler.utils</code> to <code>rio_tiler.cbers</code>
  - rio_tiler.utils.cbers_parse_scene_id -&gt; rio_tiler.cbers._cbers_parse_scene_id
- moved sentinel-2 utility functions from <code>rio_tiler.utils</code> to <code>rio_tiler.sentinel2</code>
  - rio_tiler.utils.sentinel_parse_scene_id -&gt; rio_tiler.sentinel2._sentinel_parse_scene_id
- removed deprecated PIL support as well as base64 encoding function in rio_tiler.utils
  - rio_tiler.utils.img_to_buffer
  - rio_tiler.utils.array_to_img
  - rio_tiler.utils.b64_encode_img
- removed deprecated min_max* functions (landsat_min_max_worker and band_min_max_worker)</p>
<h2 id="10rc2-2018-08-22">1.0rc2 (2018-08-22)<a class="headerlink" href="#10rc2-2018-08-22" title="Permanent link">&para;</a></h2>
<ul>
<li>add test case for pix4d nodata+alpha band data</li>
</ul>
<h2 id="10rc1-2018-07-16">1.0rc1 (2018-07-16)<a class="headerlink" href="#10rc1-2018-07-16" title="Permanent link">&para;</a></h2>
<ul>
<li>rasterio 1.0.0</li>
</ul>
<h2 id="10b3-2018-07-02">1.0b3 (2018-07-02)<a class="headerlink" href="#10b3-2018-07-02" title="Permanent link">&para;</a></h2>
<ul>
<li>add schwarzwald color palette</li>
</ul>
<h2 id="10b2-2018-06-26">1.0b2 (2018-06-26)<a class="headerlink" href="#10b2-2018-06-26" title="Permanent link">&para;</a></h2>
<ul>
<li>fix nodata (#48)</li>
</ul>
<h2 id="10b1-2018-06-23">1.0b1 (2018-06-23)<a class="headerlink" href="#10b1-2018-06-23" title="Permanent link">&para;</a></h2>
<ul>
<li>adapt to rasterio 1.0b4</li>
<li>fix mask (internal/external) fetching 🙏</li>
<li>fix boundless read with new rasterio 1.0b2</li>
<li>fix custom nodata handling</li>
<li>fix performances issue</li>
</ul>
<p>Breaking Changes:
- removed alpha band options to select a custom alpha band number</p>
<h2 id="10a8-2018-06-20">1.0a8 (2018-06-20)<a class="headerlink" href="#10a8-2018-06-20" title="Permanent link">&para;</a></h2>
<ul>
<li>Fix rasterio version to 1.0b1 (#46 and #44)</li>
</ul>
<h2 id="10a7-2018-05-14">1.0a7 (2018-05-14)<a class="headerlink" href="#10a7-2018-05-14" title="Permanent link">&para;</a></h2>
<ul>
<li>Support for additional CBERS instruments (fredliporace)</li>
</ul>
<h2 id="10a6-2018-03-29">1.0a6 (2018-03-29)<a class="headerlink" href="#10a6-2018-03-29" title="Permanent link">&para;</a></h2>
<ul>
<li>Fixes sentinel-2 band 8A regex bug in <code>rio_tiler.utils.expression</code></li>
</ul>
<h2 id="10a5-2018-03-26">1.0a5 (2018-03-26)<a class="headerlink" href="#10a5-2018-03-26" title="Permanent link">&para;</a></h2>
<ul>
<li>adds DatasetReader input option for utils.tile_read (do not close the dataset on each read)</li>
</ul>
<p>Breaking Changes:
- <code>utils.tile_band_worker</code> renamed to <code>utils.tile_read</code>
- <code>main.tile</code> <strong>rgb</strong> option renamed <strong>indexes</strong>
- <code>sentinel2.tile</code>, <code>landsat8.tile</code>,  <code>cbers.tile</code> <strong>rgb</strong> option renamed <strong>bands</strong>
- <code>main.tile</code> default nodata mask is handled by rasterio</p>
<h2 id="10a4-2018-03-07">1.0a4 (2018-03-07)<a class="headerlink" href="#10a4-2018-03-07" title="Permanent link">&para;</a></h2>
<ul>
<li>adds utils.b64_encode_img function to encode an image object into a base64 string</li>
<li>add tiles profiles (jpeg, png, webp) based on <a href="https://github.com/mapnik/mapnik/wiki/Image-IO#default-output-details">github.com/mapnik/mapnik/wiki/Image-IO#default-output-details</a></li>
</ul>
<p>Breaking Changes:
- Refactor <code>rio_tiler.utils.array_to_img</code> to return PIL image object</p>
<h2 id="10a3-2018-02-05">1.0a3 (2018-02-05)<a class="headerlink" href="#10a3-2018-02-05" title="Permanent link">&para;</a></h2>
<ul>
<li>only using <code>read_masks</code> for mask creation when it's needed.</li>
</ul>
<h2 id="10a2-2018-02-05">1.0a2 (2018-02-05)<a class="headerlink" href="#10a2-2018-02-05" title="Permanent link">&para;</a></h2>
<ul>
<li>add "expression" utility function</li>
<li>better nodata/mask/alpha band definition and support</li>
</ul>
<p>Breaking Changes:
- tile functions now return an associated mask (Landsat, Sentinel, CBERS, main)
- remove nodata support in utils.image_to_array function
- add mask support in utils.image_to_array function
- utils.tile_band_worker will always return a (Band, Width, Height) array (e.g 1x256x256 or 3x256x256)</p>
<h2 id="10a1-2018-01-04">1.0a1 (2018-01-04)<a class="headerlink" href="#10a1-2018-01-04" title="Permanent link">&para;</a></h2>
<ul>
<li>remove aws.py sub-module (replaced by main.py)</li>
<li>no default bands value for main.py tiles.</li>
</ul>
<h2 id="10a0-2018-01-03">1.0a.0 (2018-01-03)<a class="headerlink" href="#10a0-2018-01-03" title="Permanent link">&para;</a></h2>
<ul>
<li>add colormap option in <code>utils.array_to_img</code></li>
<li>add TIR (brightness temps) support</li>
<li>add CBERS support</li>
<li>add global file support</li>
<li>add elevation encoding for mapzen</li>
<li>removing internal caching</li>
<li>update to rasterio 1.0a12</li>
</ul>
<p>Breaking Changes:
- remove data value rescaling in <code>landsat8.tile</code> and <code>sentinel2.tile</code>
- fix wrong lat/grid_square value in <code>utils.sentinel_parse_scene_id</code>
- rename <code>utils.sentinel_min_max_worker</code> to <code>utils.band_min_max_worker</code></p>
<h2 id="003-2017-11-14">0.0.3 (2017-11-14)<a class="headerlink" href="#003-2017-11-14" title="Permanent link">&para;</a></h2>
<ul>
<li>Fix Sentinel-2 bad AWS url</li>
</ul>
<h2 id="002-2017-10-17">0.0.2 (2017-10-17)<a class="headerlink" href="#002-2017-10-17" title="Permanent link">&para;</a></h2>
<ul>
<li>Fix python &#8532; compatibilities in rio_tiler.utils.landsat_get_mtl</li>
</ul>
<h2 id="001-2017-10-05">0.0.1 (2017-10-05)<a class="headerlink" href="#001-2017-10-05" title="Permanent link">&para;</a></h2>
<ul>
<li>Initial release. Requires Rasterio &gt;= 1.0a10.</li>
</ul>












                

              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/cogeotiff" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/cogeotiff" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M459.4 151.7c.3 4.5.3 9.1.3 13.6 0 138.7-105.6 298.6-298.6 298.6-59.5 0-114.7-17.2-161.1-47.1 8.4 1 16.6 1.3 25.3 1.3 49.1 0 94.2-16.6 130.3-44.8-46.1-1-84.8-31.2-98.1-72.8 6.5 1 13 1.6 19.8 1.6 9.4 0 18.8-1.3 27.6-3.6-48.1-9.7-84.1-52-84.1-103v-1.3c14 7.8 30.2 12.7 47.4 13.3-28.3-18.8-46.8-51-46.8-87.4 0-19.5 5.2-37.4 14.3-53C87.4 130.8 165 172.4 252.1 176.9c-1.6-7.8-2.6-15.9-2.6-24C249.5 95.1 296.3 48 354.4 48c30.2 0 57.5 12.7 76.7 33.1 23.7-4.5 46.5-13.3 66.6-25.3-7.8 24.4-24.4 44.8-46.1 57.8 21.1-2.3 41.6-8.1 60.4-16.2-14.3 20.8-32.2 39.3-52.6 54.3"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.cogeo.org/" target="_blank" rel="noopener" title="www.cogeo.org" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M351.9 280H161c2.9 64.5 17.2 123.9 37.5 167.4 11.4 24.5 23.7 41.8 35.1 52.4 11.2 10.5 18.9 12.2 22.9 12.2s11.7-1.7 22.9-12.2c11.4-10.6 23.7-28 35.1-52.4 20.3-43.5 34.6-102.9 37.5-167.4zm-191-48h190.9c-2.8-64.5-17.1-123.9-37.4-167.4-11.4-24.4-23.7-41.8-35.1-52.4C268.1 1.7 260.4 0 256.4 0s-11.7 1.7-22.9 12.2c-11.4 10.6-23.7 28-35.1 52.4-20.3 43.5-34.6 102.9-37.5 167.4m-48 0c3.5-85.6 25.6-165.1 57.9-217.3C78.7 47.3 10.9 131.2 1.5 232zM1.5 280c9.4 100.8 77.2 184.7 169.3 217.3-32.3-52.2-54.4-131.7-57.9-217.3zm398.4 0c-3.5 85.6-25.6 165.1-57.9 217.3 92.1-32.7 159.9-116.5 169.3-217.3zm111.4-48C501.9 131.2 434.1 47.3 342 14.7c32.3 52.2 54.4 131.7 57.9 217.3z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["content.code.annotate", "content.code.copy", "navigation.indexes", "navigation.instant", "navigation.tracking", "search.suggest", "search.share"], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>